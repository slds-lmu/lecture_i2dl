webpackJsonp([56,68,70,109],{"+X7E":function(module,exports,__webpack_require__){var content=__webpack_require__("8D2L");"string"==typeof content&&(content=[[module.i,content,""]]);var options={hmr:!0};options.transform=void 0;__webpack_require__("0tV6")(content,options);content.locals&&(module.exports=content.locals)},"0tV6":function(module,exports,__webpack_require__){function addStylesToDom(styles,options){for(var i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];if(domStyle){domStyle.refs++;for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j](item.parts[j]);for(;j<item.parts.length;j++)domStyle.parts.push(addStyle(item.parts[j],options))}else{for(var parts=[],j=0;j<item.parts.length;j++)parts.push(addStyle(item.parts[j],options));stylesInDom[item.id]={id:item.id,refs:1,parts:parts}}}}function listToStyles(list,options){for(var styles=[],newStyles={},i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],css=item[1],media=item[2],sourceMap=item[3],part={css:css,media:media,sourceMap:sourceMap};newStyles[id]?newStyles[id].parts.push(part):styles.push(newStyles[id]={id:id,parts:[part]})}return styles}function insertStyleElement(options,style){var target=getElement(options.insertInto);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var lastStyleElementInsertedAtTop=stylesInsertedAtTop[stylesInsertedAtTop.length-1];if("top"===options.insertAt)lastStyleElementInsertedAtTop?lastStyleElementInsertedAtTop.nextSibling?target.insertBefore(style,lastStyleElementInsertedAtTop.nextSibling):target.appendChild(style):target.insertBefore(style,target.firstChild),stylesInsertedAtTop.push(style);else if("bottom"===options.insertAt)target.appendChild(style);else{if("object"!=typeof options.insertAt||!options.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var nextSibling=getElement(options.insertInto+" "+options.insertAt.before);target.insertBefore(style,nextSibling)}}function removeStyleElement(style){if(null===style.parentNode)return!1;style.parentNode.removeChild(style);var idx=stylesInsertedAtTop.indexOf(style);idx>=0&&stylesInsertedAtTop.splice(idx,1)}function createStyleElement(options){var style=document.createElement("style");return options.attrs.type="text/css",addAttrs(style,options.attrs),insertStyleElement(options,style),style}function createLinkElement(options){var link=document.createElement("link");return options.attrs.type="text/css",options.attrs.rel="stylesheet",addAttrs(link,options.attrs),insertStyleElement(options,link),link}function addAttrs(el,attrs){Object.keys(attrs).forEach(function(key){el.setAttribute(key,attrs[key])})}function addStyle(obj,options){var style,update,remove,result;if(options.transform&&obj.css){if(!(result=options.transform(obj.css)))return function(){};obj.css=result}if(options.singleton){var styleIndex=singletonCounter++;style=singleton||(singleton=createStyleElement(options)),update=applyToSingletonTag.bind(null,style,styleIndex,!1),remove=applyToSingletonTag.bind(null,style,styleIndex,!0)}else obj.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(style=createLinkElement(options),update=updateLink.bind(null,style,options),remove=function(){removeStyleElement(style),style.href&&URL.revokeObjectURL(style.href)}):(style=createStyleElement(options),update=applyToTag.bind(null,style),remove=function(){removeStyleElement(style)});return update(obj),function(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap)return;update(obj=newObj)}else remove()}}function applyToSingletonTag(style,index,remove,obj){var css=remove?"":obj.css;if(style.styleSheet)style.styleSheet.cssText=replaceText(index,css);else{var cssNode=document.createTextNode(css),childNodes=style.childNodes;childNodes[index]&&style.removeChild(childNodes[index]),childNodes.length?style.insertBefore(cssNode,childNodes[index]):style.appendChild(cssNode)}}function applyToTag(style,obj){var css=obj.css,media=obj.media;if(media&&style.setAttribute("media",media),style.styleSheet)style.styleSheet.cssText=css;else{for(;style.firstChild;)style.removeChild(style.firstChild);style.appendChild(document.createTextNode(css))}}function updateLink(link,options,obj){var css=obj.css,sourceMap=obj.sourceMap,autoFixUrls=void 0===options.convertToAbsoluteUrls&&sourceMap;(options.convertToAbsoluteUrls||autoFixUrls)&&(css=fixUrls(css)),sourceMap&&(css+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */");var blob=new Blob([css],{type:"text/css"}),oldSrc=link.href;link.href=URL.createObjectURL(blob),oldSrc&&URL.revokeObjectURL(oldSrc)}var stylesInDom={},isOldIE=function(fn){var memo;return function(){return void 0===memo&&(memo=fn.apply(this,arguments)),memo}}(function(){return window&&document&&document.all&&!window.atob}),getElement=function(fn){var memo={};return function(selector){if(void 0===memo[selector]){var styleTarget=fn.call(this,selector);if(styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[selector]=styleTarget}return memo[selector]}}(function(target){return document.querySelector(target)}),singleton=null,singletonCounter=0,stylesInsertedAtTop=[],fixUrls=__webpack_require__("LxwL");module.exports=function(list,options){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");options=options||{},options.attrs="object"==typeof options.attrs?options.attrs:{},options.singleton||"boolean"==typeof options.singleton||(options.singleton=isOldIE()),options.insertInto||(options.insertInto="head"),options.insertAt||(options.insertAt="bottom");var styles=listToStyles(list,options);return addStylesToDom(styles,options),function(newList){for(var mayRemove=[],i=0;i<styles.length;i++){var item=styles[i],domStyle=stylesInDom[item.id];domStyle.refs--,mayRemove.push(domStyle)}if(newList){addStylesToDom(listToStyles(newList,options),options)}for(var i=0;i<mayRemove.length;i++){var domStyle=mayRemove[i];if(0===domStyle.refs){for(var j=0;j<domStyle.parts.length;j++)domStyle.parts[j]();delete stylesInDom[domStyle.id]}}}};var replaceText=function(){var textStore=[];return function(index,replacement){return textStore[index]=replacement,textStore.filter(Boolean).join("\n")}}()},"0yAA":function(module,exports,__webpack_require__){(function(global){for(var now=__webpack_require__("M4IQ"),root="undefined"==typeof window?global:window,vendors=["moz","webkit"],suffix="AnimationFrame",raf=root["request"+suffix],caf=root["cancel"+suffix]||root["cancelRequest"+suffix],i=0;!raf&&i<vendors.length;i++)raf=root[vendors[i]+"Request"+suffix],caf=root[vendors[i]+"Cancel"+suffix]||root[vendors[i]+"CancelRequest"+suffix];if(!raf||!caf){var last=0,id=0,queue=[];raf=function(callback){if(0===queue.length){var _now=now(),next=Math.max(0,1e3/60-(_now-last));last=next+_now,setTimeout(function(){var cp=queue.slice(0);queue.length=0;for(var i=0;i<cp.length;i++)if(!cp[i].cancelled)try{cp[i].callback(last)}catch(e){setTimeout(function(){throw e},0)}},Math.round(next))}return queue.push({handle:++id,callback:callback,cancelled:!1}),id},caf=function(handle){for(var i=0;i<queue.length;i++)queue[i].handle===handle&&(queue[i].cancelled=!0)}}module.exports=function(fn){return raf.call(root,fn)},module.exports.cancel=function(){caf.apply(root,arguments)},module.exports.polyfill=function(){root.requestAnimationFrame=raf,root.cancelAnimationFrame=caf}}).call(exports,__webpack_require__("GTd5"))},"4N07":function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"banner-onboarding-88cd76dbacf5b01ddce4e024396c5ecb3ea69dfb.svg"},"8D2L":function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__("Vmy+")(void 0),exports.push([module.i,'/* Chat Window Styles */\n/* Settings - imports, globals, colors */\n/* Grey Tones (Font Colors) */\n/* default font-color */\n/* border-color; placeholder-color; separator */\n/* Other Colors */\n/* used for selected items with light blue bg*/\n/* Global Settings */\n/* Font Sizes */\n/* Font Colors */\n/* Font Weights */\n/* Sketch: Black */\n/* Sketch: Roman */\n/* Line Heights */\n/* Border Colors */\n/* Border Radii */\n/* Box Shadows */\n/* Tools - mixins, global helpers */\n/* Transitions and Animations */\n/* Other */\n/* hyphenation lets firefox use word-break: break-all */\n/* on retina  */\n/* standard popover arrow - color can be customized in subclasses */\n.chat {\n  width: 320px;\n  overflow: hidden; }\n  .chat .bubble {\n    word-wrap: break-word;\n    max-width: 250px;\n    position: relative;\n    padding: 5px 15px;\n    border-radius: 15px;\n    margin-bottom: 5px;\n    display: inline-block; }\n    .chat .bubble p {\n      word-break: break-word; }\n      .chat .bubble p a {\n        color: white;\n        text-decoration: underline; }\n    .chat .bubble img {\n      width: 20px;\n      height: 20px;\n      display: inline-block;\n      vertical-align: text-bottom; }\n  .chat .from-me {\n    -ms-flex-item-align: end;\n        align-self: flex-end; }\n  .chat .from-me .bubble {\n    color: white;\n    background: #00AAFF; }\n    .chat .from-me .bubble:before {\n      content: "";\n      position: absolute;\n      z-index: -1;\n      bottom: -2px;\n      right: -5px;\n      height: 15px;\n      width: 20px;\n      background-color: #00AAFF;\n      border-bottom-left-radius: 15px; }\n    .chat .from-me .bubble:after {\n      content: "";\n      position: absolute;\n      z-index: 1;\n      bottom: -4px;\n      right: -56px;\n      width: 26px;\n      height: 15px;\n      background: white;\n      border-bottom-left-radius: 5px;\n      -webkit-transform: translate(-30px, -2px);\n              transform: translate(-30px, -2px); }\n  .chat .from-them .bubble {\n    color: #3D474D;\n    background: #F0F5F7; }\n    .chat .from-them .bubble:before {\n      content: "";\n      position: absolute;\n      z-index: 2;\n      bottom: -2px;\n      left: -7px;\n      height: 15px;\n      width: 20px;\n      background-color: #F0F5F7;\n      border-bottom-right-radius: 15px; }\n    .chat .from-them .bubble:after {\n      content: "";\n      position: absolute;\n      z-index: 3;\n      bottom: -2px;\n      left: -26px;\n      width: 26px;\n      height: 15px;\n      background: white;\n      border-bottom-right-radius: 5px; }\n\n#chat_messages img {\n  width: 24px;\n  height: 24px;\n  display: inline-block; }\n',""])},BS4b:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var __WEBPACK_IMPORTED_MODULE_0__chatMessage__=__webpack_require__("gcQM"),MessageList=function(props){var messages=props.messages,height=props.height,resendMessage=props.resendMessage;return React.createElement("div",{className:"pt-16 h-flex-column"},messages.map(function(message,index){return React.createElement(__WEBPACK_IMPORTED_MODULE_0__chatMessage__.a,{key:index,message:message,height:height,resendMessage:resendMessage})}))};__webpack_exports__.a=MessageList}).call(__webpack_exports__,__webpack_require__("nakD"))},CfMn:function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:void 0!==process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-loadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},loadTime=getNanoSeconds()):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)}).call(exports,__webpack_require__("rH1J"))},CgDZ:function(module,exports,__webpack_require__){function webpackAsyncContext(req){var ids=map[req];return ids?Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function(){return __webpack_require__(ids[0])}):Promise.reject(new Error("Cannot find module '"+req+"'."))}var map={"./app":["hqmG"],"./app.js":["hqmG"],"./canvas/canvas":["gp2O",62],"./canvas/canvas.js":["gp2O",62],"./canvas/contextMenu":["1M8a",147],"./canvas/contextMenu.js":["1M8a",147],"./canvas/copyPaste":["d407"],"./canvas/copyPaste.js":["d407"],"./canvas/layout":["TEdV",111],"./canvas/layout.js":["TEdV",111],"./canvas/mapView":["Rq/x",63],"./canvas/mapView.js":["Rq/x",63],"./canvas/views/block":["cQwG",76],"./canvas/views/block.js":["cQwG",76],"./canvas/views/draggable":["wQol",146],"./canvas/views/draggable.js":["wQol",146],"./canvas/views/editable":["2UzH",82],"./canvas/views/editable.js":["2UzH",82],"./canvas/views/editableBlock":["fGk7",145],"./canvas/views/editableBlock.js":["fGk7",145],"./canvas/views/graphics":["t8zp"],"./canvas/views/graphics.js":["t8zp"],"./canvas/views/imageBlock":["7RHa"],"./canvas/views/imageBlock.js":["7RHa"],"./canvas/views/resizable":["2J63",144],"./canvas/views/resizable.js":["2J63",144],"./canvas/views/selectable":["tCwE",143],"./canvas/views/selectable.js":["tCwE",143],"./canvas/views/vboundary":["7DNH"],"./canvas/views/vboundary.js":["7DNH"],"./canvas/views/vconnection":["xAzy",59],"./canvas/views/vconnection.js":["xAzy",59],"./canvas/views/vconnectionEditor":["vxEF",142],"./canvas/views/vconnectionEditor.js":["vxEF",142],"./canvas/views/vconnectionHandler":["VQwZ",59],"./canvas/views/vconnectionHandler.js":["VQwZ",59],"./canvas/views/vgenericNode":["Vw2l",58],"./canvas/views/vgenericNode.js":["Vw2l",58],"./canvas/views/vnode":["NCMo",58],"./canvas/views/vnode.js":["NCMo",58],"./canvas/views/vnodeIcon":["UeFO",141],"./canvas/views/vnodeIcon.js":["UeFO",141],"./canvas/views/vnodeImage":["HM34"],"./canvas/views/vnodeImage.js":["HM34"],"./canvas/views/vnodeVideo":["Qy9x",140],"./canvas/views/vnodeVideo.js":["Qy9x",140],"./canvas/views/vroot":["Wp5U",69],"./canvas/views/vroot.js":["Wp5U",69],"./canvas/views/vrootChild":["rX76",139],"./canvas/views/vrootChild.js":["rX76",139],"./mm/plugins/wundermap":["boRQ",55],"./mm/plugins/wundermap.js":["boRQ",55],"./models/attachment":["j1ii",138],"./models/attachment.js":["j1ii",138],"./models/boundary":["qlsV"],"./models/boundary.js":["qlsV"],"./models/boundaryStyle":["xfYt"],"./models/boundaryStyle.js":["xfYt"],"./models/buffer":["1cfn"],"./models/buffer.js":["1cfn"],"./models/change":["TKta",66],"./models/change.js":["TKta",66],"./models/chatModel":["9Oqg"],"./models/chatModel.js":["9Oqg"],"./models/connectionModel":["/dW8",87],"./models/connectionModel.js":["/dW8",87],"./models/font":["6bYh"],"./models/font.js":["6bYh"],"./models/iconModel":["q3Rn",137],"./models/iconModel.js":["q3Rn",137],"./models/ideaComment":["ZfKP",136],"./models/ideaComment.js":["ZfKP",136],"./models/ideaImage":["oMUV",135],"./models/ideaImage.js":["oMUV",135],"./models/ideaProperty":["3Kh2",134],"./models/ideaProperty.js":["3Kh2",134],"./models/ideaVideo":["Kh9o",133],"./models/ideaVideo.js":["Kh9o",133],"./models/ideaVote":["00kP"],"./models/ideaVote.js":["00kP"],"./models/mapTheme":["r+xB"],"./models/mapTheme.js":["r+xB"],"./models/node":["HqoD",73],"./models/node.js":["HqoD",73],"./models/poller":["ahzF",132],"./models/poller.js":["ahzF",132],"./models/server":["jmxU",110],"./models/server.js":["jmxU",110],"./models/style":["FKf5"],"./models/style.js":["FKf5"],"./models/task":["AGfX",131],"./models/task.js":["AGfX",131],"./models/tree":["fSlT",71],"./models/tree.js":["fSlT",71],"./models/userModel":["gz1n"],"./models/userModel.js":["gz1n"],"./ui/attachmentViewer/view":["jMx0",112],"./ui/attachmentViewer/view.js":["jMx0",112],"./ui/boundaries":["1umx",54],"./ui/boundaries.js":["1umx",54],"./ui/customizeBoundary":["1QqJ",90],"./ui/customizeBoundary.js":["1QqJ",90],"./ui/customizeStyle":["UObq",78],"./ui/customizeStyle.js":["UObq",78],"./ui/doodling":["rg7Z",100],"./ui/doodling.js":["rg7Z",100],"./ui/filter":["QHRq",67],"./ui/filter.js":["QHRq",67],"./ui/footer":["k1IG"],"./ui/footer.js":["k1IG"],"./ui/footerPublic":["geal",130],"./ui/footerPublic.js":["geal",130],"./ui/header":["WGdr",65],"./ui/header.js":["WGdr",65],"./ui/hints":["qNKU"],"./ui/hints.js":["qNKU"],"./ui/history/history":["tt9h",72],"./ui/history/history.js":["tt9h",72],"./ui/history/revisionsBrowser":["i9TI",57],"./ui/history/revisionsBrowser.js":["i9TI",57],"./ui/history/revisionsSlider":["Lggz",57],"./ui/history/revisionsSlider.js":["Lggz",57],"./ui/history/slider":["Dxm5",129],"./ui/history/slider.js":["Dxm5",129],"./ui/history/utils":["OgPf",57],"./ui/history/utils.js":["OgPf",57],"./ui/menu":["qlDW"],"./ui/menu.js":["qlDW"],"./ui/message":["62Jj",128],"./ui/message.js":["62Jj",128],"./ui/onboarding/hintsPopover":["Hnw4",70],"./ui/onboarding/hintsPopover.js":["Hnw4",70],"./ui/onboarding/progressPopover":["fGUG",109],"./ui/onboarding/progressPopover.js":["fGUG",109],"./ui/onboarding/tutorial":["FlJR",68],"./ui/onboarding/tutorial.js":["FlJR",68],"./ui/options":["4KFD"],"./ui/options.js":["4KFD"],"./ui/presentation/controls":["INsm",127],"./ui/presentation/controls.js":["INsm",127],"./ui/presentation/player":["izkM",126],"./ui/presentation/player.js":["izkM",126],"./ui/presentation/presentation":["yj88",101],"./ui/presentation/presentation.js":["yj88",101],"./ui/presentation/slideshow":["qQu+",81],"./ui/presentation/slideshow.js":["qQu+",81],"./ui/preview":["/t6o",92],"./ui/preview.js":["/t6o",92],"./ui/print/print":["7Qzd",125],"./ui/print/print.js":["7Qzd",125],"./ui/sidebar":["qmQO",64],"./ui/sidebar.js":["qmQO",64],"./ui/sidebar/attachmentsWidget":["iy3A",93],"./ui/sidebar/attachmentsWidget.js":["iy3A",93],"./ui/sidebar/boundariesWidget":["49TO",108],"./ui/sidebar/boundariesWidget.js":["49TO",108],"./ui/sidebar/colorsWidget":["zDP6",99],"./ui/sidebar/colorsWidget.js":["zDP6",99],"./ui/sidebar/commentsWidget":["L/YL",86],"./ui/sidebar/commentsWidget.js":["L/YL",86],"./ui/sidebar/formatWidget":["6B3d",98],"./ui/sidebar/formatWidget.js":["6B3d",98],"./ui/sidebar/iconsWidget":["3sJ7",77],"./ui/sidebar/iconsWidget.js":["3sJ7",77],"./ui/sidebar/iconsWidgetExpanded/icon":["PlM2",124],"./ui/sidebar/iconsWidgetExpanded/icon.js":["PlM2",124],"./ui/sidebar/iconsWidgetExpanded/iconLibrary":["j0/H",107],"./ui/sidebar/iconsWidgetExpanded/iconLibrary.js":["j0/H",107],"./ui/sidebar/iconsWidgetExpanded/iconsWidgetExpanded":["ugn0",84],"./ui/sidebar/iconsWidgetExpanded/iconsWidgetExpanded.js":["ugn0",84],"./ui/sidebar/imagesWidget":["ZjT+",74],"./ui/sidebar/imagesWidget.js":["ZjT+",74],"./ui/sidebar/linksWidget":["079/",97],"./ui/sidebar/linksWidget.js":["079/",97],"./ui/sidebar/notesWidget":["G8SJ",83],"./ui/sidebar/notesWidget.js":["G8SJ",83],"./ui/sidebar/stylesWidget":["YQ4/",106],"./ui/sidebar/stylesWidget.js":["YQ4/",106],"./ui/sidebar/tabbedWidgetContainer":["twRW",105],"./ui/sidebar/tabbedWidgetContainer.js":["twRW",105],"./ui/sidebar/tasksWidget":["UWmw",91],"./ui/sidebar/tasksWidget.js":["UWmw",91],"./ui/sidebar/videosWidget":["cdGT",75],"./ui/sidebar/videosWidget.js":["cdGT",75],"./ui/sidebar/widget":["A9ap",123],"./ui/sidebar/widget.js":["A9ap",123],"./ui/slide":["GgL9",122],"./ui/slide.js":["GgL9",122],"./ui/styles":["H+A+",52],"./ui/styles.js":["H+A+",52],"./ui/teaser":["3R9V",121],"./ui/teaser.js":["3R9V",121],"./ui/themes":["uiuD",51],"./ui/themes.js":["uiuD",51],"./ui/users":["ePfb",120],"./ui/users.js":["ePfb",120],"./ui/wheelScroll":["vQBY",96],"./ui/wheelScroll.js":["vQBY",96],"./ui/zoom":["sNkp",89],"./ui/zoom.js":["sNkp",89],"./utils/constants":["67vC"],"./utils/constants.js":["67vC"],"./utils/customEvents":["xUHV"],"./utils/customEvents.js":["xUHV"],"./utils/googleSearch":["vLs6",119],"./utils/googleSearch.js":["vLs6",119],"./utils/imageSearch":["aVfQ",80],"./utils/imageSearch.js":["aVfQ",80],"./utils/images":["+ptD",118],"./utils/images.js":["+ptD",118],"./utils/layouter":["oxsE",117],"./utils/layouter.js":["oxsE",117],"./utils/math":["3Ox4"],"./utils/math.js":["3Ox4"],"./utils/meistertask/helpers":["H1Wq",116],"./utils/meistertask/helpers.js":["H1Wq",116],"./utils/meistertask/meistertask":["MSez",79],"./utils/meistertask/meistertask.js":["MSez",79],"./utils/meistertask/meistertask_picker":["e4gE",115],"./utils/meistertask/meistertask_picker.js":["e4gE",115],"./utils/meistertask/project_creator":["r3wk",95],"./utils/meistertask/project_creator.js":["r3wk",95],"./utils/searchWrapper":["wvK4",114],"./utils/searchWrapper.js":["wvK4",114],"./utils/skoletube/attachments/attachments":["PXir",53],"./utils/skoletube/attachments/attachments.js":["PXir",53],"./utils/skoletube/attachments/search":["4B9/",104],"./utils/skoletube/attachments/search.js":["4B9/",104],"./utils/skoletube/attachments/searchWrapper":["WvAO",88],"./utils/skoletube/attachments/searchWrapper.js":["WvAO",88],"./utils/skoletube/images/search":["MQVt",103],"./utils/skoletube/images/search.js":["MQVt",103],"./utils/skoletube/mediaSearch":["Z6lC",113],"./utils/skoletube/mediaSearch.js":["Z6lC",113],"./utils/skoletube/skoletube":["TMGa",94],"./utils/skoletube/skoletube.js":["TMGa",94],"./utils/skoletube/videos/search":["i5N/",102],"./utils/skoletube/videos/search.js":["i5N/",102],"./utils/videoHelpers":["vu0f"],"./utils/videoHelpers.js":["vu0f"],"./utils/videoSearch":["HTWB",85],"./utils/videoSearch.js":["HTWB",85]};webpackAsyncContext.keys=function(){return Object.keys(map)},webpackAsyncContext.id="CgDZ",module.exports=webpackAsyncContext},DrJx:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__userIcon__=__webpack_require__("yviC"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UserNotification=function(_React$Component){function UserNotification(props){_classCallCheck(this,UserNotification);var _this=_possibleConstructorReturn(this,(UserNotification.__proto__||Object.getPrototypeOf(UserNotification)).call(this,props));return _this.state={user:users.findByID(_this.props.userId)},_this}return _inherits(UserNotification,_React$Component),_createClass(UserNotification,[{key:"componentWillReceiveProps",value:function(nextProps){this.setState({user:users.findByID(nextProps.userId)})}},{key:"render",value:function(){var className="rad-100% justify-center h-flex-row p-r "+this.props.className,userUserIconClassName=this.state.user.isOnline()?"s-24":"o-40 o-hover-100 s-24",tooltip=null;return this.props.enabled?(userUserIconClassName+=" h-cp",tooltip=(this.state.user.isOnline()?" (online)":" (offline)")+" - "+I18n.t("js.click_to_send_message")):userUserIconClassName+=" h-cd",React.createElement("div",{className:className},this.props.unread>0?React.createElement("span",{className:"chat-alert"},this.props.unread):null,React.createElement(__WEBPACK_IMPORTED_MODULE_0__userIcon__.a,{user:this.state.user,className:userUserIconClassName,tooltip:tooltip}))}}]),UserNotification}(React.Component);UserNotification.defaultProps={className:""},__webpack_exports__.a=UserNotification}).call(__webpack_exports__,__webpack_require__("nakD"))},EHYO:function(module,exports,__webpack_require__){"use strict";function invariant(condition,format,a,b,c,d,e,f){if(validateFormat(format),!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}}var validateFormat=function(format){};module.exports=invariant},FlJR:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(ReactDOM,React){var __WEBPACK_IMPORTED_MODULE_0_lodash_findIndex__=__webpack_require__("wa7H"),__WEBPACK_IMPORTED_MODULE_0_lodash_findIndex___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_lodash_findIndex__),__WEBPACK_IMPORTED_MODULE_1_lodash_forEach__=__webpack_require__("OoKq"),__WEBPACK_IMPORTED_MODULE_1_lodash_forEach___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_lodash_forEach__),__WEBPACK_IMPORTED_MODULE_2__progressPopover__=__webpack_require__("fGUG"),__WEBPACK_IMPORTED_MODULE_3__hintsPopover__=__webpack_require__("Hnw4"),__WEBPACK_IMPORTED_MODULE_4_app_ui_footer__=__webpack_require__("k1IG"),__WEBPACK_IMPORTED_MODULE_5_utils_userPreferences__=__webpack_require__("h7V/"),__WEBPACK_IMPORTED_MODULE_6_ui_core_window__=__webpack_require__("TjA0"),__WEBPACK_IMPORTED_MODULE_7_ui_core_popover__=__webpack_require__("SZxL"),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},hideEvents=[CustomEvents.SHARING_POPOVER_OPENED,CustomEvents.PRESENTATION_STARTED],showEvents=[CustomEvents.SHARING_POPOVER_CLOSED,CustomEvents.PRESENTATION_STOPPED],showProgressPopoverEvents=[CustomEvents.ATTACHMENT_UPLOADED,CustomEvents.HISTORY_MODE_CLOSED,CustomEvents.PRESENTATION_STOPPED,CustomEvents.TOPIC_DROPPED,CustomEvents.TRAINING_TIP_SHOWN],enableContinueButtonEvents=[CustomEvents.WIDGET_NOTES_SELECTED,CustomEvents.WIDGET_ICONS_SELECTED,CustomEvents.WIDGET_LINKS_SELECTED,CustomEvents.WIDGET_ATTACHMENTS_SELECTED,CustomEvents.WIDGET_IMAGES_SELECTED,CustomEvents.EXPORT_DLG_OPENED,CustomEvents.HISTORY_MODE_STARTED],progressPopover=void 0,progressNotification=void 0,container=void 0,state={},basic={name:I18n.t("js.onboarding.basic.name"),overlays:["map_header","canvas","map_footer"],hideOuts:["map_options","sidebar"],steps:[{event:CustomEvents.TUTORIAL_STARTED,title:I18n.t("js.onboarding.basic.welcome.title"),description:I18n.t("js.onboarding.basic.welcome.description"),skip:{action:function(){return App.trigger(CustomEvents.TUTORIAL_INTRO_SHOWN)},enabled:!0,wording:I18n.t("js.get_started")}},{event:CustomEvents.TUTORIAL_INTRO_SHOWN,title:I18n.t("js.add_a_title"),description:I18n.t("js.onboarding.basic.add_title.description",{key:"<kbd>ENTER</kbd>"}),beforeShow:function(){canvas.root.dcontent.isEditing()||(canvas.root.isSelected()||canvas.root.select(),canvas.onEdit())}},{event:CustomEvents.ROOT_RENAMED,title:I18n.t("js.add_an_idea",{v0:""}),description:I18n.t("js.onboarding.basic.add_topic.description",{v1:"<kbd>TAB</kbd>",v2:"<kbd>ENTER</kbd>"})},{event:CustomEvents.TOPIC_INSERTED,title:I18n.t("js.onboarding.basic.add_sibling_topic.title"),description:I18n.t("js.onboarding.basic.add_sibling_topic.description",{key:"<kbd>ENTER</kbd>"})},{event:CustomEvents.SIBLING_ADDED,title:I18n.t("js.onboarding.basic.drag_drop.title"),description:I18n.t("js.onboarding.basic.drag_drop.description")}]},sidebar={name:I18n.t("js.onboarding.sidebar.name"),overlays:["map_header","canvas","map_footer"],hideOuts:["map_options"],steps:[{event:CustomEvents.TUTORIAL_STARTED,title:I18n.t("js.onboarding.sidebar.welcome.title"),description:I18n.t("js.onboarding.sidebar.welcome.description"),beforeShow:function(){sideBar.show(!0,!0),[sideBar.colors,sideBar.videos,sideBar.tasks].each(function(widget){return widget.show()})},skip:{action:function(){return App.trigger(CustomEvents.TUTORIAL_INTRO_SHOWN)},enabled:!0,wording:I18n.t("js.get_started")}},{event:CustomEvents.TUTORIAL_INTRO_SHOWN,title:I18n.t("js.onboarding.sidebar.add_image.title"),description:I18n.t("js.onboarding.sidebar.add_image.description"),opener:"#btn_images",skip:{action:function(){return App.trigger(CustomEvents.WUNDERBILD_ADDED)},event:CustomEvents.WIDGET_IMAGES_SELECTED,enabled:!1,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.WUNDERBILD_ADDED,title:I18n.t("js.notes"),description:I18n.t("js.onboarding.sidebar.create_note.description"),opener:"#btn_notes",skip:{action:function(){return App.trigger(CustomEvents.NOTE_CHANGED)},event:CustomEvents.WIDGET_NOTES_SELECTED,enabled:!1,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.NOTE_CHANGED,title:I18n.t("js.links"),description:I18n.t("js.onboarding.sidebar.add_link.description"),opener:"#btn_links",skip:{action:function(){return App.trigger(CustomEvents.LINK_CHANGED)},event:CustomEvents.WIDGET_LINKS_SELECTED,enabled:!1,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.LINK_CHANGED,title:I18n.t("js.attachments"),description:I18n.t("js.onboarding.sidebar.add_attachment.description"),opener:"#btn_attachments",skip:{action:function(){return App.trigger(CustomEvents.ATTACHMENT_UPLOADED)},event:CustomEvents.WIDGET_ATTACHMENTS_SELECTED,enabled:!1,feedback:!0,wording:I18n.t("js.finish")}}]},footer={name:I18n.t("js.onboarding.footer.name"),overlays:["map_header","canvas"],hideOuts:["map_options","sidebar"],steps:[{event:CustomEvents.TUTORIAL_STARTED,title:I18n.t("js.onboarding.footer.welcome.title"),description:I18n.t("js.onboarding.footer.welcome.description"),skip:{action:function(){return App.trigger(CustomEvents.TUTORIAL_INTRO_SHOWN)},enabled:!0,wording:I18n.t("js.get_started")}},{event:CustomEvents.TUTORIAL_INTRO_SHOWN,title:I18n.t("js.onboarding.footer.invite_collaborators.title"),description:I18n.t("js.onboarding.footer.invite_collaborators.description"),opener:"#btn_share",skip:{action:function(){},enabled:!1,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.SHARING_POPOVER_CLOSED,title:I18n.t("js.onboarding.footer.export_map.title"),description:I18n.t("js.onboarding.footer.export_map.description"),opener:"#btn_export",skip:{action:function(){return Windows.close("export")},event:CustomEvents.EXPORT_DLG_OPENED,enabled:!1,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.EXPORT_DLG_CLOSED,title:I18n.t("js.onboarding.footer.history_view.title"),description:I18n.t("js.onboarding.footer.history_view.description"),opener:"#btn_togglehistory",skip:{action:function(){return __WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.hideBar(__WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.activeBar)},event:CustomEvents.HISTORY_MODE_STARTED,enabled:!1,feedback:!0,wording:I18n.t("js.finish")}}]},presentation={name:I18n.t("js.onboarding.presentation.name"),overlays:["map_header","canvas"],hideOuts:["map_options","sidebar"],onFinish:function(){return __WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.hideBar(__WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.activeBar)},steps:[{event:CustomEvents.TUTORIAL_STARTED,title:I18n.t("js.onboarding.presentation.welcome.title"),description:I18n.t("js.onboarding.presentation.welcome.description"),opener:"#btn_toggleslideshow"},{event:CustomEvents.PRESENTATION_MODE_STARTED,title:I18n.t("js.auto_create_presentation"),description:I18n.t("js.onboarding.presentation.create_auto_presentation.description"),opener:"#btn_auto_presentation_icon"},{event:CustomEvents.SLIDE_CREATED,title:I18n.t("js.play_presentation"),description:I18n.t("js.onboarding.presentation.play_presentation.description"),opener:"#btn_start_slideshow"}]},meistertask={name:I18n.t("js.onboarding.meistertask.name"),overlays:["map_header","canvas"],hideOuts:["map_options","sidebar"],onFinish:function(){return __WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.hideBar(__WEBPACK_IMPORTED_MODULE_4_app_ui_footer__.default.activeBar)},steps:[{event:CustomEvents.TUTORIAL_STARTED,title:I18n.t("js.onboarding.meistertask.welcome.title"),description:I18n.t("js.onboarding.meistertask.welcome.description"),opener:"#btn_togglemeistertask"},{event:CustomEvents.MEISTERTASK_BAR_OPENED,title:I18n.t("js.onboarding.meistertask.video_tutorial.title"),description:I18n.t("js.onboarding.meistertask.video_tutorial.description",{v1:'<a target="_blank" href="https://www.youtube.com/watch?v=c9P0Lq76Tmo">',v2:"</a>"}),skip:{action:function(){return App.trigger(CustomEvents.MEISTERTASK_SHOWN)},enabled:!0,feedback:!0,wording:I18n.t("js.continue")}},{event:CustomEvents.MEISTERTASK_SHOWN,title:I18n.t("js.onboarding.meistertask.finish.title",{icon:'<div class="h-iblock">'+MM.ui.icon({name:"like",size:14,color:"grey"})+"</div>"}),description:I18n.t("js.onboarding.meistertask.finish.description",{v1:'<a target="_blank" href="https://www.mindmeister.com/training">',v2:"</a>"}),skip:{action:function(){return App.trigger(CustomEvents.TRAINING_TIP_SHOWN)},enabled:!0,feedback:!0,wording:I18n.t("js.finish")}}]},onboardingParts={basic:basic,sidebar:sidebar,footer:footer,presentation:presentation,meistertask:meistertask},partNames=Object.keys(onboardingParts),addPulsateEffect=function(elements){__WEBPACK_IMPORTED_MODULE_1_lodash_forEach___default()(elements,function(el){el.style.position="relative";var indicator=new Element("div",{className:"pulsating-overlay h-a-center s-60"}).insert(new Element("div",{className:"fx-pulse-once fx-infinite s-100% b-4 bc-purple rad-100%"}).insert(new Element("div",{className:"s-100% rad-100% bg-white o-40"})));el.appendChild(indicator)})},removePulsateEffect=function(elements){__WEBPACK_IMPORTED_MODULE_1_lodash_forEach___default()(elements,function(el){el.style.position="";var pulseEl=el.querySelector(".pulsating-overlay");pulseEl&&pulseEl.remove()})},handleEvent=function(e){e.stop(),nextStep(App.getCustomEventName(e),e.memo)},renderHintsPopover=function(props){ReactDOM.render(React.createElement(__WEBPACK_IMPORTED_MODULE_3__hintsPopover__.default,_extends({close:finishTutorial,progressCounter:state.part.steps.length,currentPart:{name:state.part.name,index:state.partIndex+1}},props)),container)},enableContinueButton=function(e){var eventName=App.getCustomEventName(e),currentStep=state.part.steps[state.currentIndex];currentStep.skip&&currentStep.skip.event===eventName&&renderHintsPopover({progress:state.currentIndex,currentStep:_extends({},currentStep,{skip:_extends({},currentStep.skip,{enabled:!0})})})},updatePopover=function(){var steps=state.part.steps,currentStep=steps[state.currentIndex],previousStep=steps[state.previousIndex],feedback=previousStep&&(!previousStep.skip||previousStep.skip.feedback);feedback&&renderHintsPopover({progress:state.previousIndex,currentStep:previousStep,showFeedback:feedback}),setTimeout(function(){renderHintsPopover({progress:state.currentIndex,currentStep:currentStep})},feedback?1500:0),currentStep.beforeShow&&currentStep.beforeShow(),currentStep.opener&&addPulsateEffect(document.querySelectorAll(currentStep.opener)),previousStep&&previousStep.opener&&removePulsateEffect(document.querySelectorAll(previousStep.opener))},nextStep=function(currentStep,opts){var indexNextStep=__WEBPACK_IMPORTED_MODULE_0_lodash_findIndex___default()(state.part.steps,function(step){return step.event===currentStep}),range=indexNextStep-state.currentIndex;if(!(state.currentIndex>=indexNextStep||range>1)){switch(currentStep){case CustomEvents.PRESENTATION_MODE_STARTED:App.ui.SlideShow&&App.ui.SlideShow.list.length>0&&indexNextStep++}state.previousIndex=state.currentIndex,state.currentIndex=indexNextStep;var partName=partNames[state.partIndex];Amplitude.logEvent("tutorial_"+partName+"_step_"+(state.currentIndex+1)),opts.callback&&"function"==typeof opts.callback&&opts.callback(),updatePopover()}},destroy=function(){var currentStep=state.part.steps[state.currentIndex];currentStep&&currentStep.opener&&removePulsateEffect(document.querySelectorAll(currentStep.opener)),state.part.steps.each(function(step){return App.unsubscribe(step.event,handleEvent)}),hideEvents.each(function(e){return App.unsubscribe(e,hideContainer)}),showEvents.each(function(e){return App.unsubscribe(e,showContainer)}),showProgressPopoverEvents.each(function(e){return App.unsubscribe(e,showProgressPopover)}),enableContinueButtonEvents.each(function(e){return App.unsubscribe(e,enableContinueButton)}),state.currentIndex=-1,removeContainer()},showProgressPopover=function(){state.previousIndex=state.currentIndex,updatePopover(),state.part.onFinish&&state.part.onFinish(),setTimeout(function(){finishTutorial(),state.part.finished=!0,saveProgress(),updateProgressNotification(),progressPopover.show()},1500)},saveProgress=function(){var finished=partNames.filter(function(key){return onboardingParts[key].finished});__WEBPACK_IMPORTED_MODULE_5_utils_userPreferences__.a.save({name:"finished_chapters",value:finished.join(",")})},loadProgress=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};__WEBPACK_IMPORTED_MODULE_5_utils_userPreferences__.a.get("finished_chapters",function(preference){preference&&preference.value.split(",").each(function(chapter){return onboardingParts[chapter].finished=!0}),updateProgressNotification(),renderProgressPopover(),callback()})},finishTutorial=function(){removeOverlays(),showElements(state.part.hideOuts),MM.ui.enableButton(progressPopover.opener),destroy(),App.trigger(CustomEvents.TUTORIAL_STOPPED)},createContainer=function(){container=new Element("div",{className:"popover tutorial ph-20 pv-15 z-199",style:"transition-property: all"}),positionContainer(),document.body.appendChild(container)},positionContainer=function(){if(container){var position={x:15,y:UI.Registry.viewportOffset.bottom+15};container.style.left=position.x+"px",container.style.bottom=position.y+"px"}},removeContainer=function(){ReactDOM.unmountComponentAtNode(container),container.remove()},hideContainer=function(){container.style.opacity=.5},showContainer=function(){container.style.opacity=1},createOverlays=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).each(function(el){var overlay=new Element("div",{className:"overlay-tutorial z-1 p-a at-0 al-0 w-100% h-100% o-50 bg-black"});mm$(el).appendChild(overlay)})},removeOverlays=function(){$$(".overlay-tutorial").invoke("remove")},hideElements=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).each(function(id){return hide(mm$(id))})},showElements=function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).each(function(id){return show(mm$(id))})},startTutorial=function(part){state.part=onboardingParts[part],state.part&&(state.partIndex=partNames.indexOf(part),createContainer(),removeOverlays(),createOverlays(state.part.overlays),hideElements(state.part.hideOuts),state.part.steps.each(function(step){return App.subscribe(step.event,handleEvent)}),hideEvents.each(function(e){return App.subscribe(e,hideContainer)}),showEvents.each(function(e){return App.subscribe(e,showContainer)}),showProgressPopoverEvents.each(function(e){return App.subscribe(e,showProgressPopover)}),enableContinueButtonEvents.each(function(e){return App.subscribe(e,enableContinueButton)}),MM.ui.disableButton(progressPopover.opener),App.trigger(CustomEvents.TUTORIAL_STARTED))},renderProgressPopover=function(){var parts=partNames.map(function(key){var part=onboardingParts[key];return{name:part.name,key:key,finished:part.finished}});ReactDOM.render(React.createElement(__WEBPACK_IMPORTED_MODULE_2__progressPopover__.default,{parts:parts,onListClick:function(partToStart){return Onboarding.start({part:partToStart.key})},onRemove:confirmRemoveOnboarding,close:function(){return progressPopover.close()}}),progressPopover.widgetContainer)},initProgressPopover=function(callback){progressPopover=new __WEBPACK_IMPORTED_MODULE_7_ui_core_popover__.c("onboarding_progress",{offset:[0,-13],onShow:renderProgressPopover}),removeClassName(mm$("onboarding-container"),"h-hidden"),loadProgress(callback)},updateProgressNotification=function(){var notificationCounter=partNames.filter(function(key){return!onboardingParts[key].finished}).length;0===notificationCounter?progressNotification&&(progressNotification.remove(),progressNotification=null):(progressNotification||(progressNotification=new Element("div",{className:"h-flex-row justify-center p-a bg-red s-16 rad-100% fs-10",style:"top: -8px; right: -8px;"}),progressPopover.opener.appendChild(progressNotification)),progressNotification.textContent=notificationCounter)},confirmRemoveOnboarding=function(){__WEBPACK_IMPORTED_MODULE_6_ui_core_window__.a.confirm("<h2>"+I18n.t("js.are_you_sure")+"</h2><p>"+I18n.t("js.onboarding.remove_warning")+"</p>",{cancel:function(win){win.close(),removeOnboarding()},cancelLabel:I18n.t("js.yes_remove"),okLabel:I18n.t("js.no_keep_it"),windowParameters:{width:300}}),Amplitude.logEvent("tutorial_opt_out")},removeOnboarding=function(){addClassName(mm$("onboarding-container"),"h-hidden"),__WEBPACK_IMPORTED_MODULE_5_utils_userPreferences__.a.save({name:"onboarding",value:"hide"}),Amplitude.logEvent("tutorial_opt_out_confirmed")},Onboarding={init:function(onInit){initProgressPopover(onInit)},start:function(opts){var _this=this;if(opts=_extends({part:"basic",autoStart:!1},opts),opts.autoStart&&onboardingParts[opts.part].finished)return void App.trigger(CustomEvents.TUTORIAL_STOPPED);startTutorial(opts.part),UI.Registry.add(this),UI.Registry.notify(this,"show");var onDestroy=function onDestroy(){UI.Registry.remove(_this),App.unsubscribe(CustomEvents.TUTORIAL_STOPPED,onDestroy)};App.subscribe(CustomEvents.TUTORIAL_STOPPED,onDestroy)},onResize:function(){positionContainer()}};__webpack_exports__.default=Onboarding}.call(__webpack_exports__,__webpack_require__("x9tB"),__webpack_require__("nakD"))},"HJ+y":function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ui_components_generic_userNotification__=__webpack_require__("DrJx"),__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_popover__=__webpack_require__("aEw3"),__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_list_list__=__webpack_require__("worM"),__WEBPACK_IMPORTED_MODULE_3_ui_components_chat_chatWidget__=__webpack_require__("Z8UF"),__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__=__webpack_require__("9Oqg"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UserPopover=function(_React$Component){function UserPopover(props){_classCallCheck(this,UserPopover);var _this=_possibleConstructorReturn(this,(UserPopover.__proto__||Object.getPrototypeOf(UserPopover)).call(this,props));return props.users.each(function(user){App.subscribe(CustomEvents.CHAT_UPDATE+"_"+user.id,function(){_this.forceUpdate()}),__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getOlderMessages(user.id)},0),_this.state={activeChat:0},_this.unsetActiveChat=_this.unsetActiveChat.bind(_this),_this}return _inherits(UserPopover,_React$Component),_createClass(UserPopover,[{key:"setActiveChat",value:function(id,e){e.preventDefault(),e.stopPropagation(),this.setState({activeChat:id}),__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.markAsRead(id)}},{key:"unsetActiveChat",value:function(){this.setState({activeChat:null})}},{key:"componentWillReceiveProps",value:function(nextProps){var _this2=this;this.props.users.each(function(user){App.unsubscribe(CustomEvents.CHAT_UPDATE+"_"+user.id,function(){_this2.forceUpdate()})},0),nextProps.users.each(function(user){App.subscribe(CustomEvents.CHAT_UPDATE+"_"+user.id,function(){_this2.forceUpdate()})},0)}},{key:"componentWillUnmount",value:function(){var _this3=this;this.props.users.each(function(user){App.unsubscribe(CustomEvents.CHAT_UPDATE+"_"+user.id,function(){_this3.forceUpdate()})},0)}},{key:"render",value:function(){var _this4=this,notification=void 0,unread=this.props.users.reduce(function(count,user){return count+__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getUnreadMessages(user.id).length},0),users=this.props.users.map(function(user){var unread=__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getUnreadMessages(user.id).length;return{icon:React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_userNotification__.a,{className:"mr-8px",unread:unread,userId:user.id}),label:user.name,onClick:_this4.setActiveChat.bind(_this4,user.id)}});unread>0&&(notification=React.createElement("span",{className:"chat-alert"},unread));var popoverContent=void 0;if(this.state.activeChat){var chat=__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getChat(this.state.activeChat);popoverContent=React.createElement(__WEBPACK_IMPORTED_MODULE_3_ui_components_chat_chatWidget__.a,{messages:chat.messages,userID:this.state.activeChat})}else popoverContent=React.createElement(__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_list_list__.a,{items:users,closePopoverOnItemClick:!1});return React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_popover__.a,{position:"above",canAutoPosition:!1,className:"sections",opener:React.createElement("div",{className:"h-flex-row justify-center s-24 fs-10 b-1 rad-100% bc-grey3 c-grey-light mh-4px h-cp"},notification,"+"+this.props.users.length),onClose:this.unsetActiveChat},popoverContent)}}]),UserPopover}(React.Component);__webpack_exports__.a=UserPopover}).call(__webpack_exports__,__webpack_require__("nakD"))},Hnw4:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_react_motion__=__webpack_require__("YcUm"),__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react_motion__),__webpack_require__("YmTu")),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HintsPopover=function(_React$Component){function HintsPopover(props){_classCallCheck(this,HintsPopover);var _this=_possibleConstructorReturn(this,(HintsPopover.__proto__||Object.getPrototypeOf(HintsPopover)).call(this,props));return _this.state={},_this}return _inherits(HintsPopover,_React$Component),_createClass(HintsPopover,[{key:"componentDidMount",value:function(){this._tooltips=MM.ui.ToolTips.touchSafe({el:this.container})}},{key:"componentDidUpdate",value:function(){this._tooltips=MM.ui.ToolTips.touchSafe({el:this.container})}},{key:"componentWillReceiveProps",value:function(nextProps){this.setState({showSkipHint:nextProps.showSkipHint})}},{key:"renderSkipButton",value:function(opts){var _this2=this;if(opts){var onClick=opts.enabled?opts.action:function(){return _this2.setState({showSkipHint:!0})},className="bg-purple bc-purple small"+(opts.enabled?"":" disabled tooltip above"),title=opts.enabled?"":I18n.t("js.please_click_pulsating_element");return React.createElement("div",{className:"mt-15"},React.createElement("btn",{className:className,title:title,onClick:onClick},opts.wording),this.state.showSkipHint?React.createElement(__WEBPACK_IMPORTED_MODULE_0_react_motion__.Motion,{defaultStyle:{opacity:0},style:{opacity:Object(__WEBPACK_IMPORTED_MODULE_0_react_motion__.spring)(1)}},function(style){return React.createElement("div",{className:"h-flex-row c-grey2 fs-12 mt-15",style:style},React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__.a,{className:"mr-5",opts:{name:"info",size:12}}),title)}):null)}}},{key:"renderProgressBars",value:function(){for(var progressBars=[],i=0;i<this.props.progressCounter;i++){var color=i<=this.props.progress?"purple":"grey4",className="h-2 bg-"+color+(i+1<this.props.progressCounter?" mr-5":"");progressBars.push(React.createElement("div",{key:i,className:className}))}return progressBars}},{key:"render",value:function(){var _this3=this,_props=this.props,currentPart=_props.currentPart,currentStep=_props.currentStep,progressCounter=_props.progressCounter,close=_props.close,showFeedback=_props.showFeedback,styles={feedbackDefault:{opacity:0,scale:0},contentDefault:{opacity:1},feedback:{opacity:Object(__WEBPACK_IMPORTED_MODULE_0_react_motion__.spring)(showFeedback?1:0),scale:Object(__WEBPACK_IMPORTED_MODULE_0_react_motion__.spring)(showFeedback?1:3)},content:{opacity:Object(__WEBPACK_IMPORTED_MODULE_0_react_motion__.spring)(showFeedback?.1:1)}};return React.createElement("div",{ref:function(el){return _this3.container=el},className:"h-flex-column maxw-260"},React.createElement("div",{className:"h-flex-row c-purple fw-700"},React.createElement("div",{className:"h-flex-row justify-center s-22 rad-100% b-2 bc-purple fs-12 mr-8"},currentPart.index),React.createElement("span",null,currentPart.name),React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__.a,{className:"ml-auto",opts:{name:"close",size:12,color:"grey3"},onClick:function(){return close()}})),React.createElement("grid",{className:"g-"+progressCounter+" h-flex-row mt-10 mb-25"},this.renderProgressBars()),React.createElement("div",{className:"p-r"},React.createElement(__WEBPACK_IMPORTED_MODULE_0_react_motion__.Motion,{defaultStyle:styles.feedbackDefault,style:styles.feedback},function(style){return React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__.a,{className:"h-a-center",style:{zIndex:-1},opts:{name:"checkmark",color:"white",size:48,parentClasses:"bg-green rad-100% p-10",parentStyles:"opacity: "+style.opacity+"; transform: scale("+style.scale+");"}})}),React.createElement(__WEBPACK_IMPORTED_MODULE_0_react_motion__.Motion,{defaultStyle:styles.contentDefault,style:styles.content},function(style){return React.createElement("div",{className:"z-1",style:style},React.createElement("p",{className:"mb-10 fs-18 fw-500",dangerouslySetInnerHTML:{__html:currentStep.title}}),React.createElement("p",{className:"c-grey-light",dangerouslySetInnerHTML:{__html:currentStep.description}}),_this3.renderSkipButton(currentStep.skip))})))}}]),HintsPopover}(React.Component);__webpack_exports__.default=HintsPopover}.call(__webpack_exports__,__webpack_require__("nakD"))},"J+tX":function(module,exports,__webpack_require__){"use strict";var emptyObject={};module.exports=emptyObject},Jqst:function(module,exports,__webpack_require__){"use strict";var React=__webpack_require__("nakD"),factory=__webpack_require__("xISf");if(void 0===React)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var ReactNoopUpdateQueue=(new React.Component).updater;module.exports=factory(React.Component,React.isValidElement,ReactNoopUpdateQueue)},KcBO:function(module,exports,__webpack_require__){"use strict";function shouldStopAnimation(currentStyle,style,currentVelocity){for(var key in style)if(Object.prototype.hasOwnProperty.call(style,key)){if(0!==currentVelocity[key])return!1;var styleValue="number"==typeof style[key]?style[key]:style[key].val;if(currentStyle[key]!==styleValue)return!1}return!0}exports.__esModule=!0,exports.default=shouldStopAnimation,module.exports=exports.default},Luvl:function(module,exports,__webpack_require__){"use strict";function stripStyle(style){var ret={};for(var key in style)Object.prototype.hasOwnProperty.call(style,key)&&(ret[key]="number"==typeof style[key]?style[key]:style[key].val);return ret}exports.__esModule=!0,exports.default=stripStyle,module.exports=exports.default},LxwL:function(module,exports){module.exports=function(css){var location="undefined"!=typeof window&&window.location;if(!location)throw new Error("fixUrls requires window.location");if(!css||"string"!=typeof css)return css;var baseUrl=location.protocol+"//"+location.host,currentDir=baseUrl+location.pathname.replace(/\/[^\/]*$/,"/");return css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(fullMatch,origUrl){var unquotedOrigUrl=origUrl.trim().replace(/^"(.*)"$/,function(o,$1){return $1}).replace(/^'(.*)'$/,function(o,$1){return $1});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(unquotedOrigUrl))return fullMatch;var newUrl;return newUrl=0===unquotedOrigUrl.indexOf("//")?unquotedOrigUrl:0===unquotedOrigUrl.indexOf("/")?baseUrl+unquotedOrigUrl:currentDir+unquotedOrigUrl.replace(/^\.\//,""),"url("+JSON.stringify(newUrl)+")"})}},M4IQ:function(module,exports,__webpack_require__){(function(process){(function(){var getNanoSeconds,hrtime,loadTime,moduleLoadTime,nodeLoadTime,upTime;"undefined"!=typeof performance&&null!==performance&&performance.now?module.exports=function(){return performance.now()}:void 0!==process&&null!==process&&process.hrtime?(module.exports=function(){return(getNanoSeconds()-nodeLoadTime)/1e6},hrtime=process.hrtime,getNanoSeconds=function(){var hr;return hr=hrtime(),1e9*hr[0]+hr[1]},moduleLoadTime=getNanoSeconds(),upTime=1e9*process.uptime(),nodeLoadTime=moduleLoadTime-upTime):Date.now?(module.exports=function(){return Date.now()-loadTime},loadTime=Date.now()):(module.exports=function(){return(new Date).getTime()-loadTime},loadTime=(new Date).getTime())}).call(this)}).call(exports,__webpack_require__("rH1J"))},NmCK:function(module,exports,__webpack_require__){"use strict";function reorderKeys(){}exports.__esModule=!0,exports.default=reorderKeys;module.exports=exports.default},OoKq:function(module,exports){function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}module.exports=arrayEach},QWVU:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__messageList__=__webpack_require__("BS4b"),__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_loadingSpinner__=__webpack_require__("atEJ"),__WEBPACK_IMPORTED_MODULE_2_lib_waypoint__=__webpack_require__("ky7I"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),MessageArea=function(_React$Component){function MessageArea(props){_classCallCheck(this,MessageArea);var _this=_possibleConstructorReturn(this,(MessageArea.__proto__||Object.getPrototypeOf(MessageArea)).call(this,props));return _this.height=0,_this.stick=!0,_this.stickToBottom=!0,_this.state={loadingMessages:!0},_this}return _inherits(MessageArea,_React$Component),_createClass(MessageArea,[{key:"componentDidMount",value:function(){this.wrapper.scrollTop=this.chat.offsetHeight,this.scrollToBottom(),this.setState({loadingMessages:!1})}},{key:"componentDidUpdate",value:function(){if(this.stick){if(this.height!==this.chat.offsetHeight&&!this.state.loadingMessages){var offset=this.chat.offsetHeight-this.height;this.wrapper.scrollTop=offset,this.stick=!1}}else this.stickToBottom&&(this.wrapper.scrollTop=this.chat.offsetHeight,this.stickToBottom=!1);this.height=this.chat.offsetHeight}},{key:"componentWillReceiveProps",value:function(){this.setState({loadingMessages:!1})}},{key:"scrollToBottom",value:function(){this.stickToBottom=!0}},{key:"render",value:function(){var _this2=this,loadingSpinner=this.props.loading?React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_loadingSpinner__.a,{size:24}):null;return React.createElement("div",{ref:function(el){return _this2.wrapper=el},className:"ph-5 bt-1 bb-1 bc-grey3  ph-12  h-overflow-y h-275"},React.createElement("div",{ref:function(el){return _this2.chat=el}},React.createElement(__WEBPACK_IMPORTED_MODULE_2_lib_waypoint__.a,{onEnter:function(_ref){var previousPosition=_ref.previousPosition;_ref.currentPosition,_ref.event;null!==previousPosition&&"invisible"!==previousPosition&&(_this2.props.onScrollTop()?(_this2.stick=!0,_this2.setState({loadingMessages:!0})):_this2.setState({loadingMessages:!1}))}}),loadingSpinner,React.createElement(__WEBPACK_IMPORTED_MODULE_0__messageList__.a,{resendMessage:this.props.resendMessage,messages:this.props.messages,height:275})))}}]),MessageArea}(React.Component);__webpack_exports__.a=MessageArea}).call(__webpack_exports__,__webpack_require__("nakD"))},"Sz+c":function(module,exports,__webpack_require__){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},test3)).join("")}catch(err){return!1}}()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}},TOzf:function(module,exports,__webpack_require__){"use strict";function stepper(secondPerFrame,x,v,destX,k,b,precision){var Fspring=-k*(x-destX),Fdamper=-b*v,a=Fspring+Fdamper,newV=v+a*secondPerFrame,newX=x+newV*secondPerFrame;return Math.abs(newV)<precision&&Math.abs(newX-destX)<precision?(reusedTuple[0]=destX,reusedTuple[1]=0,reusedTuple):(reusedTuple[0]=newX,reusedTuple[1]=newV,reusedTuple)}exports.__esModule=!0,exports.default=stepper;var reusedTuple=[0,0];module.exports=exports.default},TjA0:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",function(){return Window}),__webpack_require__.d(__webpack_exports__,"c",function(){return Windows}),__webpack_require__.d(__webpack_exports__,"a",function(){return Dialog});var __WEBPACK_IMPORTED_MODULE_0_app_utils_constants__=__webpack_require__("67vC"),Window=Class.create();Window.keepMultiModalWindow=!1,Window.hasEffectLib="undefined"!=typeof Effect,Window.resizeEffectDuration=.4,Window.prototype={initialize:function(){var id,optionIndex=0;arguments.length>0&&("string"==typeof arguments[0]?(id=arguments[0],optionIndex=1):id=arguments[0]?arguments[0].id:null),id||(id="window_"+(new Date).getTime()),$(id)&&$(id).remove(),this.options=Object.extend({className:"dialog",blurClassName:null,minWidth:100,minHeight:20,userData:null,showEffect:Window.hasEffectLib?Effect.Appear:Element.show,hideEffect:Window.hasEffectLib?Effect.Fade:Element.hide,doNotNotifyHide:!1,showEffectOptions:{},hideEffectOptions:{afterFinish:function(){WindowUtilities.resetBodyOverflow()}},useEffects:!0,effectOptions:null,parent:document.body,title:"",url:null,onload:Prototype.emptyFunction,width:200,height:414,opacity:1,autoRecenter:!0,autoSize:!1,keymap:null,closeCallback:null,destroyOnClose:!1,gridX:1,gridY:1},arguments[optionIndex]||{}),MM.utils.loadCSS([(__WEBPACK_IMPORTED_MODULE_0_app_utils_constants__.isRetina?"x2/":"")+"site/dialogs.css"]),this.options.blurClassName&&(this.options.focusClassName=this.options.className),void 0===this.options.top&&void 0===this.options.bottom&&(this.options.top=this._round(500*Math.random(),this.options.gridY)),void 0===this.options.left&&void 0===this.options.right&&(this.options.left=this._round(500*Math.random(),this.options.gridX)),this.options.effectOptions&&(Object.extend(this.options.hideEffectOptions,this.options.effectOptions),Object.extend(this.options.showEffectOptions,this.options.effectOptions),this.options.showEffect==Element.Appear&&(this.options.showEffectOptions.to=this.options.opacity)),Window.hasEffectLib&&(this.options.showEffect==Effect.Appear&&(this.options.showEffectOptions.to=this.options.opacity),this.options.hideEffect==Effect.Fade&&(this.options.hideEffectOptions.from=this.options.opacity)),this.options.hideEffect==Element.hide&&(this.options.hideEffect=function(){Element.hide(this.element),this.options.destroyOnClose&&this.destroy()}.bind(this)),this.options.parent!=document.body&&(this.options.parent=$(this.options.parent)),this.options.keymap&&this.options.keymap.enable(),this.element=this._createWindow(id),this.element.win=this,this.eventOnLoad=this._getWindowBorderSize.bindAsEventListener(this),this.eventMouseDownContent=this.toFront.bindAsEventListener(this),this.eventResize=this._recenter.bindAsEventListener(this),this.content=$(this.element.id+"_content"),Event.observe(window,"load",this.eventOnLoad),Event.observe(window,"resize",this.eventResize),Event.observe(window,"scroll",this.eventResize),Event.observe(this.options.parent,"scroll",this.eventResize),this.setOpacity(this.options.opacity),this.options.zIndex&&this.setZIndex(this.options.zIndex),this.options.destroyOnClose&&this.setDestroyOnClose(!0),this._getWindowBorderSize(),this.width=this.options.width,this.height=this.options.height,this.visible=!1,this.constraint=!1,this.constraintPad={top:0,left:0,bottom:0,right:0},this.width&&this.height&&this.setSize(this.options.width,this.options.height,null,!0),this.setTitle(this.options.title),Windows.register(this)},destroy:function(){if(this._notify("onDestroy"),Event.stopObserving(this.content,"mousedown",this.eventMouseDownContent),Event.stopObserving(window,"load",this.eventOnLoad),Event.stopObserving(window,"resize",this.eventResize),Event.stopObserving(window,"scroll",this.eventResize),Event.stopObserving(this.content,"load",this.options.onload),this._oldParent){for(var content=this.getContent(),originalContent=null,i=0;i<content.childNodes.length&&(originalContent=content.childNodes[i],1!=originalContent.nodeType);i++)originalContent=null;originalContent&&this._oldParent.appendChild(originalContent),this._oldParent=null}this.sizer&&Event.stopObserving(this.sizer,"mousedown",this.eventMouseDown),this.options.url&&(this.content.src=null),"undefined"!=typeof canvas&&null!==canvas&&canvas.addFocus&&canvas.addFocus(),Element.remove(this.element),Windows.unregister(this)},getContent:function(){return this.content},setContent:function(id,autoresize,autoposition){var element=$(id);if(null==element)throw"Unable to find element '"+id+"' in DOM";this._oldParent=element.parentNode;autoresize&&Element.getDimensions(element),autoposition&&Position.cumulativeOffset(element);var content=this.getContent();this.setHTMLContent(""),content=this.getContent(),content.appendChild(element),element.show(),this.unfixHeight()},setHTMLContent:function(html){if(this.options&&this.options.url){this.content.src=null,this.options.url=null;var content='<div id="'+this.getId()+'_content" class="'+this.options.className.split(" ")[0]+'_content"> </div>';$(this.getId()+"_table_content").innerHTML=content,this.content=$(this.element.id+"_content")}Element.update(this.getContent(),html),this.options.autoSize&&this.updateHeight(!0),""!=html&&this.unfixHeight()},setAjaxContent:function(url,options,showCentered,showModal){this.showFunction=showCentered?"showCenter":"show",this.showModal=showModal||!1,options=options||{},this.setHTMLContent(""),this.onComplete=options.onComplete,this._onCompleteHandler||(this._onCompleteHandler=this._setAjaxContent.bind(this)),options.onComplete=this._onCompleteHandler,options.method="get",new Ajax.Request(url,options),options.onComplete=this.onComplete},_setAjaxContent:function(originalRequest){Element.update(this.getContent(),originalRequest.responseText),this.options.autoSize&&this.updateHeight(),this.onComplete&&this.onComplete(originalRequest),this.onComplete=null,this[this.showFunction](this.showModal),this.unfixHeight()},refresh:function(){this.options.url&&($(this.element.getAttribute("id")+"_content").src=this.options.url)},getId:function(){return this.element.id},setDestroyOnClose:function(){this.options.destroyOnClose=!0},_round:function(val,round){return 1==round?val:val=Math.floor(val/round)*round},_createWindow:function(id){var className=this.options.className,win=new Element("div",{id:id,class:"dialog "+className});this.wrapper=new Element("div",{className:"dialog-wrapper"}),this.inner_win=new Element("div",{class:"dialog-inner"});var content="";return this.options.url?content+='<iframe frameborder="0" name="'+id+'_content"  id="'+id+'_content" src="'+this.options.url+'"> </iframe>':content+='<div id="'+id+'_content" class="'+className.split(" ")[0]+'_content"> </div>',this.options.noHelp||(content+='<a class="p-a ab-30 al-30 help w-30px h-30px" href="#" onclick="return MM.ui.openHelp(MM.status.helpTopic)"></a>'),this.inner_win.innerHTML=content,this.wrapper.appendChild(new Element("div",{id:"dlg_flash_msg",style:"display: none"})),this.wrapper.appendChild(this.inner_win),win.appendChild(this.wrapper),Element.hide(win),this.options.parent.insertBefore(win,this.options.parent.firstChild),Event.observe($(id+"_content"),"load",this.options.onload),win},changeClassName:function(newClassName){var className=this.options.className,id=this.getId();$A(["_content"]).each(function(value){this._toggleClassName($(id+value),className+value,newClassName+value)}.bind(this)),$$("#"+id+" td").each(function(td){td.className=td.className.sub(className,newClassName)}),this.options.className=newClassName},_toggleClassName:function(element,oldClassName,newClassName){element&&(element.removeClassName(oldClassName),element.addClassName(newClassName))},setLocation:function(top,left){top=this._updateTopConstraint(top),left=this._updateLeftConstraint(left);var e=this.currentDrag||this.element;e.setStyle({top:top+"px"}),e.setStyle({left:left+"px"}),this.useLeft=!0,this.useTop=!0},getLocation:function(){var location={};return location=this.useTop?Object.extend(location,{top:this.element.getStyle("top")}):Object.extend(location,{bottom:this.element.getStyle("bottom")}),location=this.useLeft?Object.extend(location,{left:this.element.getStyle("left")}):Object.extend(location,{right:this.element.getStyle("right")})},getSize:function(){return{width:this.width,height:this.height}},setSize:function(width,height,useEffect,forceHeight){if(width=parseFloat(width),height=parseFloat(height),width<this.options.minWidth&&(width=this.options.minWidth),height<this.options.minHeight&&(height=this.options.minHeight),this.options.maxHeight&&height>this.options.maxHeight&&(height=this.options.maxHeight),this.options.maxWidth&&width>this.options.maxWidth&&(width=this.options.maxWidth),this.useTop&&this.useLeft&&Window.hasEffectLib&&Effect.ResizeWindow&&useEffect)new Effect.ResizeWindow(this,null,null,width,height,{duration:Window.resizeEffectDuration});else if(this.width=width,this.height=height,!this.currentDrag||this.currentDrag==this.element){var content=$(this.element.id+"_content");forceHeight&&content.setStyle({height:height+"px"}),content.setStyle({width:width+"px"})}},fixHeight:function(){var div=this.content.select("div")[0];div&&this.content.setStyle({height:div.clientHeight+"px"})},unfixHeight:function(){this.content.setStyle({height:"auto"}),this._recenter()},updateHeight:function(useEffect){var div=this.content.select("div")[0];div&&this.height!=div.clientHeight&&(useEffect&&CSS.set(this.element,{transition:"top 0.2s ease-in-out"}),this.setSize(this.width,div.clientHeight,useEffect),this._recenter(),useEffect&&CSS.set(this.element,{transition:"all 0s ease 0s"}))},toFront:function(){this.element.style.zIndex<Windows.maxZIndex&&this.setZIndex(Windows.maxZIndex+1)},getBounds:function(insideOnly){this.width&&this.height&&this.visible||this.computeBounds();var w=this.width,h=this.height;return insideOnly||(w+=this.widthW+this.widthE,h+=this.heightN+this.heightS),Object.extend(this.getLocation(),{width:w+"px",height:h+"px"})},computeBounds:function(){if(!this.width||!this.height){var size=WindowUtilities._computeSize(this.content.innerHTML,this.content.id,this.width,this.height,0,this.options.className);this.height?this.width=size:this.height=size}this.setSize(this.width,this.height)},show:function(modal){if(!this.visible){if(this.visible=!0,modal){if(void 0===this.overlayOpacity){var that=this;return void setTimeout(function(){that.show(modal)},10)}Windows.addModalWindow(this),this.modal=!0,this.setZIndex(Windows.maxZIndex+1),Windows.unsetOverflow(this)}else this.element.style.zIndex||this.setZIndex(Windows.maxZIndex+1);this.oldStyle&&this.getContent().setStyle({overflow:this.oldStyle}),this.computeBounds(),this._notify("onBeforeShow"),this.options.useEffects?this.options.showEffect!=Element.show&&this.options.showEffectOptions?(this.element.setStyle({opacity:"0.01",display:"block"}),this.options.showEffect(this.element,this.options.showEffectOptions)):this.options.showEffect(this.element):Element.show(this.element),window.canvas&&canvas.removeFocus&&canvas.removeFocus(),WindowUtilities.unsetBodyOverflow(),this._setWrapperWidth(),Windows.focusedWindow=this,this._notify("onShow"),this._recenter(),WindowUtilities.watch(this.inner_win,"height",this._recenter.bind(this))}},showCenter:function(modal,top,left){this.centered=!0,this.centerLeft=left,this.show(modal)},isVisible:function(){return this.visible},_recenter:function(){MM.ui.page.height-this.inner_win.getHeight()>0?CSS.set(this.wrapper,{top:"50%",transform:"translate(-50%, -50%)"}):CSS.remove(this.wrapper,["top","transform"]),this.wrapper.clientWidth!==this.inner_win.clientWidth&&this._setWrapperWidth()},_setWrapperWidth:function(){this.wrapper.setStyle({maxWidth:this.inner_win.clientWidth+"px"})},hide:function(){this.visible=!1,this.modal&&(Windows.removeModalWindow(this),Windows.resetOverflow()),this.options.useEffects?this.options.hideEffect(this.element,this.options.hideEffectOptions):(Element.hide(this.element),this.options.destroyOnClose&&this.destroy()),this.doNotNotifyHide||this._notify("onHide")},close:function(){if(this.visible){if(this.options.closeCallback&&!this.options.closeCallback(this))return;if(this.options.destroyOnClose&&this.options.useEffects){var destroyFunc=this.destroy.bind(this);if(this.options.hideEffectOptions.afterFinish){var func=this.options.hideEffectOptions.afterFinish;this.options.hideEffectOptions.afterFinish=function(){func(),destroyFunc()}}else this.options.hideEffectOptions.afterFinish=function(){destroyFunc()}}this.options.keymap&&this.options.keymap.disable(),Windows.updateFocusedWindow(),this.doNotNotifyHide=!0,this.hide(),this.doNotNotifyHide=!1,window.canvas&&canvas.addFocus&&canvas.addFocus(),this._notify("onClose"),MM.ui.dialogs.reloadOnClose&&setTimeout("window.location.reload()",500),WindowUtilities.unwatch(this.inner_win,"height")}},setOpacity:function(opacity){Element.setOpacity&&Element.setOpacity(this.element,opacity)},setZIndex:function(zindex){this.element.setStyle({zIndex:zindex}),Windows.updateZindex(zindex,this)},setTitle:function(newTitle){},getTitle:function(){return""},_getWindowBorderSize:function(event){this.heightN=20,this.heightS=85,this.widthE=this.widthW=0,this.overlayOpacity=.8},_notify:function(eventName){this.options[eventName]&&this.options[eventName](this),Windows.notify(eventName,this)}};var Windows={windows:[],modalWindows:[],observers:[],focusedWindow:null,maxZIndex:0,overlayShowEffectOptions:{duration:.3},overlayHideEffectOptions:{duration:.3},addObserver:function(observer){this.removeObserver(observer),this.observers.push(observer)},removeObserver:function(observer){this.observers=this.observers.reject(function(o){return o==observer})},notify:function(eventName,win){this.observers.each(function(o){o[eventName]&&o[eventName](eventName,win)})},getWindow:function(id){return this.windows.detect(function(d){return d.getId()==id})},getFocusedWindow:function(){return this.focusedWindow},updateFocusedWindow:function(){this.focusedWindow=this.modalWindows.length>=2?this.modalWindows[this.modalWindows.length-2]:null},addModalWindow:function(win){0==this.modalWindows.length?WindowUtilities.disableScreen(win.options.className,"overlay",win.overlayOpacity,win.getId(),win.options.parent):(Window.keepMultiModalWindow?($("overlay").style.zIndex=Windows.maxZIndex+1,Windows.maxZIndex+=1,WindowUtilities._hideSelect(this.modalWindows.last().getId())):this.modalWindows.last().element.hide(),WindowUtilities._showSelect(win.getId())),this.modalWindows.push(win)},removeModalWindow:function(win){this.modalWindows.pop(),0==this.modalWindows.length?WindowUtilities.enableScreen(win.options.className):Window.keepMultiModalWindow?(this.modalWindows.last().toFront(),WindowUtilities._showSelect(this.modalWindows.last().getId())):this.modalWindows.last().element.show()},register:function(win){this.windows.push(win)},unregister:function(win){this.windows=this.windows.reject(function(d){return d==win})},closeAll:function(){this.windows.each(function(w){Windows.close(w.getId())})},close:function(id,event){var win=this.getWindow(id);win&&win.close(),event&&Event.stop(event)},blur:function(id){var win=this.getWindow(id);win&&(win.options.blurClassName&&win.changeClassName(win.options.blurClassName),this.focusedWindow==win&&(this.focusedWindow=null),win._notify("onBlur"))},focus:function(id){var win=this.getWindow(id);win&&(this.focusedWindow&&this.blur(this.focusedWindow.getId()),win.options.focusClassName&&win.changeClassName(win.options.focusClassName),this.focusedWindow=win,win._notify("onFocus"))},unsetOverflow:function(except){},resetOverflow:function(){},updateZindex:function(zindex,win){zindex>this.maxZIndex&&(this.maxZIndex=zindex,this.focusedWindow&&this.blur(this.focusedWindow.getId())),this.focusedWindow=win,this.focusedWindow&&this.focus(this.focusedWindow.getId())}},Dialog={dialogId:null,onCompleteFunc:null,callFunc:null,parameters:null,confirm:function(){var content=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",parameters=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(content&&"string"!=typeof content)return void Dialog._runAjaxRequest(content,parameters,Dialog.confirm);var okLabel=parameters.okLabel||I18n.t("js.ok"),cancelLabel=parameters.cancelLabel||I18n.t("js.cancel");parameters=Object.extend(parameters,Object.extend(MM.ui.dialogs.defaultOptions(),parameters.windowParameters)),parameters.className=parameters.className||"alert";var okButtonClass=(parameters.okButtonClass||parameters.buttonClass||"")+" ok_button default",cancelButtonClass=(parameters.cancelButtonClass||parameters.buttonClass||"")+" cancel_button mr-10",dlgContent="<div class='"+parameters.className+"_message'>"+content+"</div><div class='"+parameters.className+"_buttons ta-right pt-25'><a href='#' onclick='return Dialog.cancelCallback()' class='"+cancelButtonClass+"'>"+cancelLabel+"</a><a href='#' onclick='return Dialog.okCallback()' class='"+okButtonClass+"'>"+okLabel+"</a></div>";return this._openDialog(dlgContent,parameters)},multipleChoice:function(content,parameters){if(content&&"string"!=typeof content)return void Dialog._runAjaxRequest(content,parameters,Dialog.multipleChoice);parameters=parameters||{},parameters=Object.extend(parameters,Object.extend(MM.ui.dialogs.defaultOptions(),parameters.windowParameters)),parameters.className=parameters.className||"alert";var container=new Element("div"),dlgContent=new Element("div",{className:parameters.className+"_message"}).update(content||""),buttons=new Element("div",{className:parameters.className+"_buttons ta-right pt-25"});return parameters.choices.each(function(choice){var el=new Element("a",{href:"#",className:choice.classes||""}).update(choice.label);el.onclick=function(){return choice.callback(),!1},buttons.insert(el)}),container.insert(dlgContent).insert(buttons),this._openDialog(container,parameters)},alert:function(content,parameters){if(content&&"string"!=typeof content)return void Dialog._runAjaxRequest(content,parameters,Dialog.alert);parameters=parameters||{};var okLabel=parameters.okLabel?parameters.okLabel:I18n.t("js.ok");parameters=Object.extend(Object.extend(MM.ui.dialogs.defaultOptions(),parameters.windowParameters),parameters),parameters.className=parameters.className||"alert";var okButtonClass="class ='"+(parameters.buttonClass?parameters.buttonClass+" ":"")+" ok_button'",content="<div class='"+parameters.className+"_message'>"+content+"</div><div class='"+parameters.className+"_buttons'><input type='button' value='"+okLabel+"' onclick='Dialog.okCallback()' "+okButtonClass+"/></div>";return this._openDialog(content,parameters)},info:function(content,parameters){if(content&&"string"!=typeof content)return void Dialog._runAjaxRequest(content,parameters,Dialog.info);content=content||"",parameters=parameters||{},parameters=Object.extend(Object.extend(MM.ui.dialogs.defaultOptions(),parameters.windowParameters),parameters),parameters.className=parameters.className||"alert";var content="<div id='modal_dialog_message' class='"+parameters.className+"_message'>"+content+"</div>";return parameters.showProgress&&(content+="<div id='modal_dialog_progress' class='"+parameters.className+"_progress'>  </div>"),parameters.ok=null,parameters.cancel=null,this._openDialog(content,parameters)},plain:function(content,parameters){return content=content||"",parameters=parameters||{},parameters=Object.extend({className:"plain",hideOnClick:!0,width:"auto"},parameters),parameters=Object.extend(Object.extend(MM.ui.dialogs.defaultOptions(),parameters.windowParameters),parameters),parameters.ok=null,parameters.cancel=null,this._openDialog(content,parameters)},closeInfo:function(){Windows.close(this.dialogId)},_openDialog:function(content,parameters){var className=parameters.className;if(parameters.height||parameters.width||(parameters.width=MM.ui.page.width/2),parameters.id)this.dialogId=parameters.id;else{var t=new Date;this.dialogId="modal_dialog_"+t.getTime(),parameters.id=this.dialogId}if(!parameters.height||!parameters.width){var size=WindowUtilities._computeSize(content,this.dialogId,parameters.width,parameters.height,5,className);parameters.height?parameters.width=size:parameters.height=size}parameters.effectOptions=parameters.effectOptions,parameters.noHelp=!0;var win=new Window(parameters);return win.getContent().update(content),win.showCenter(!0,parameters.top,parameters.left),win.setDestroyOnClose(),win.unfixHeight(),parameters.hideOnClick&&$("overlay")&&(win.element.onclick=function(){win.close()}),win.cancelCallback=parameters.onCancel||parameters.cancel,win.okCallback=parameters.onOk||parameters.ok,win.noCallback=parameters.onNo||parameters.no,win},_getAjaxContent:function(originalRequest){Dialog.callFunc(originalRequest.responseText,Dialog.parameters)},_runAjaxRequest:function(message,parameters,callFunc){null==message.options&&(message.options={}),Dialog.onCompleteFunc=message.options.onComplete,Dialog.parameters=parameters,Dialog.callFunc=callFunc,message.options.onComplete=Dialog._getAjaxContent,new Ajax.Request(message.url,message.options)},okCallback:function(){var win=Windows.focusedWindow||Windows.getFocusedWindow();return win.okCallback&&!win.okCallback(win)||($$("#"+win.getId()+" input").each(function(element){element.onclick=null}),win.close()),!1},noCallback:function(){var win=Windows.focusedWindow||Windows.getFocusedWindow();return win.noCallback&&!win.noCallback(win)||($$("#"+win.getId()+" input").each(function(element){element.onclick=null}),win.close()),!1},cancelCallback:function(){var win=Windows.focusedWindow;return $$("#"+win.getId()+" input").each(function(element){element.onclick=null}),win.close(),win.cancelCallback&&win.cancelCallback(win),!1}};if(Prototype.Browser.WebKit){var array=navigator.userAgent.match(new RegExp(/AppleWebKit\/([\d\.\+]*)/));Prototype.Browser.WebKitVersion=parseFloat(array[1])}var WindowUtilities={watch:function(el,prop,callback){el["_"+prop]=el.getStyle(prop),el["_"+prop+"_watcher"]=setInterval(function(){el.getStyle(prop)!==el["_"+prop]&&(callback(),el["_"+prop]=el.getStyle(prop))},200)},unwatch:function(el,prop){clearInterval(el["_"+prop+"_watcher"])},disableScreen:function(className,overlayId,overlayOpacity,contentId,parent){WindowUtilities.initLightbox(overlayId,className,function(){this._disableScreen(className,overlayId,overlayOpacity,contentId)}.bind(this),parent||document.body)},_disableScreen:function(className,overlayId,overlayOpacity,contentId){var objOverlay=$(overlayId);objOverlay.style.display="none",objOverlay.className="overlay_"+className;var win=Windows.getFocusedWindow();"overlay"===overlayId&&Window.hasEffectLib&&Windows.overlayShowEffectOptions&&win&&win.options.useEffects?(objOverlay.overlayOpacity=overlayOpacity,new Effect.Appear(objOverlay,Object.extend({from:0,to:overlayOpacity},Windows.overlayShowEffectOptions))):objOverlay.style.display="block"},enableScreen:function(classname,id){classname=classname||"",id=id||"overlay";var objOverlay=$(id);if(objOverlay){if(!objOverlay.hasClassName("overlay_"+classname))return;var win=Windows.getFocusedWindow();"overlay"==id&&Window.hasEffectLib&&Windows.overlayHideEffectOptions&&win&&win.options.useEffects?new Effect.Fade(objOverlay,Object.extend({from:objOverlay.overlayOpacity,to:0},Windows.overlayHideEffectOptions)):(objOverlay.style.display="none",objOverlay.parentNode.removeChild(objOverlay)),"__invisible__"!=id&&WindowUtilities._showSelect()}},_hideSelect:function(id){Prototype.Browser.IE&&(id=null==id?"":"#"+id+" ",$$(id+"select").each(function(element){WindowUtilities.isDefined(element.oldVisibility)||(element.oldVisibility=element.style.visibility?element.style.visibility:"visible",element.style.visibility="hidden")}))},_showSelect:function(id){Prototype.Browser.IE&&(id=null==id?"":"#"+id+" ",$$(id+"select").each(function(element){if(WindowUtilities.isDefined(element.oldVisibility)){try{element.style.visibility=element.oldVisibility}catch(e){element.style.visibility="visible"}element.oldVisibility=null}else element.style.visibility&&(element.style.visibility="visible")}))},isDefined:function(object){return void 0!==object&&null!=object},initLightbox:function(id,className,doneHandler,parent){if($(id))Element.setStyle(id,{zIndex:Windows.maxZIndex+1}),Windows.maxZIndex++,doneHandler();else{var objOverlay=document.createElement("div");objOverlay.setAttribute("id",id),objOverlay.className="overlay_"+className,objOverlay.style.display="none",parent.insertBefore(objOverlay,parent.firstChild),doneHandler()}},unsetBodyOverflow:function(){null==document.body.oldOverflow&&(document.body.oldOverflow=$(document.body).getStyle("overflow")||"auto"),document.body.setStyle({width:document.body.clientWidth+"px",overflow:"hidden"})},resetBodyOverflow:function(){Windows.windows.length>1||(document.body.setStyle({overflow:document.body.oldOverflow}),document.body.oldOverflow=null,setTimeout("document.body.setStyle({width: 'auto'})",100))},_computeSize:function(content,id,width,height,margin,className){var objBody=document.body,tmpObj=document.createElement("div");tmpObj.setAttribute("id",id),tmpObj.className=className+"_content",height?tmpObj.style.height=height+"px":tmpObj.style.width=width+"px",tmpObj.style.position="absolute",tmpObj.style.top="0",tmpObj.style.left="0",tmpObj.style.display="none",tmpObj.innerHTML=content,objBody.insertBefore(tmpObj,objBody.firstChild);var size;return size=height?$(tmpObj).getDimensions().width+margin:$(tmpObj).getDimensions().height+margin,objBody.removeChild(tmpObj),size}}},"Vmy+":function(module,exports){function cssWithMappingToString(item,useSourceMap){var content=item[1]||"",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&"function"==typeof btoa){var sourceMapping=toComment(cssMapping);return[content].concat(cssMapping.sources.map(function(source){return"/*# sourceURL="+cssMapping.sourceRoot+source+" */"})).concat([sourceMapping]).join("\n")}return[content].join("\n")}function toComment(sourceMap){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+" */"}module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=cssWithMappingToString(item,useSourceMap);return item[2]?"@media "+item[2]+"{"+content+"}":content}).join("")},list.i=function(modules,mediaQuery){"string"==typeof modules&&(modules=[[null,modules,""]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];"number"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];"number"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]="("+item[2]+") and ("+mediaQuery+")"),list.push(item))}},list}},Y4x1:function(module,exports,__webpack_require__){"use strict";function mapToZero(obj){var ret={};for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(ret[key]=0);return ret}exports.__esModule=!0,exports.default=mapToZero,module.exports=exports.default},YcUm:function(module,exports,__webpack_require__){"use strict";function _interopRequire(obj){return obj&&obj.__esModule?obj.default:obj}exports.__esModule=!0;var _Motion=__webpack_require__("ea/l");exports.Motion=_interopRequire(_Motion);var _StaggeredMotion=__webpack_require__("iTIp");exports.StaggeredMotion=_interopRequire(_StaggeredMotion);var _TransitionMotion=__webpack_require__("m6/l");exports.TransitionMotion=_interopRequire(_TransitionMotion);var _spring=__webpack_require__("zE3B");exports.spring=_interopRequire(_spring);var _presets=__webpack_require__("ZEcb");exports.presets=_interopRequire(_presets);var _stripStyle=__webpack_require__("Luvl");exports.stripStyle=_interopRequire(_stripStyle);var _reorderKeys=__webpack_require__("NmCK");exports.reorderKeys=_interopRequire(_reorderKeys)},Z8UF:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ui_components_generic_userIcon__=__webpack_require__("yviC"),__WEBPACK_IMPORTED_MODULE_1__messageArea__=__webpack_require__("QWVU"),__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__=__webpack_require__("9Oqg"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ChatWidget=function(_React$Component){function ChatWidget(props){_classCallCheck(this,ChatWidget);var _this=_possibleConstructorReturn(this,(ChatWidget.__proto__||Object.getPrototypeOf(ChatWidget)).call(this,props));return _this.markAsRead=_this.markAsRead.bind(_this),_this.onFocus=_this.onFocus.bind(_this),_this.keydown=_this.keydown.bind(_this),_this.onBlur=_this.onBlur.bind(_this),_this.submitMessage=_this.submitMessage.bind(_this),_this.resendMessage=_this.resendMessage.bind(_this),_this.update=_this.update.bind(_this),_this.fetchOlderMessages=_this.fetchOlderMessages.bind(_this),_this}return _inherits(ChatWidget,_React$Component),_createClass(ChatWidget,[{key:"markAsRead",value:function(){__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.markAsRead(this.props.userID)}},{key:"onFocus",value:function(){this.keymap.enable()}},{key:"keydown",value:function(event){event.shiftKey||this.submitMessage(event.browserEvent)}},{key:"onBlur",value:function(){this.keymap.disable()}},{key:"submitMessage",value:function(event){Event.stop(event);var val=this.input.value;if(val.trim().length>0){var message={text:val,source:"me",user:users.selfUser,user_id:users.selfUser.id};this.input.value="",this.messages.scrollToBottom(),__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.send(message,this.props.userID)}}},{key:"resendMessage",value:function(message){__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.send(message,this.props.userID)}},{key:"update",value:function(){this.setState({chat:__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.getChat(this.state.chat.targetId)})}},{key:"fetchOlderMessages",value:function(){return __WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.getOlderMessages(this.props.userID)}},{key:"onNewMessage",value:function(){this.messages.scrollToBottom()}},{key:"componentWillMount",value:function(){var K=MM.utils.KeyEvent;this.keymap=new MM.utils.KeyMap(document,"chat_keymap",[{key:[K.RETURN],fn:this.keydown,withEvent:!0,stopEvent:!1}]),this.keymap.disable()}},{key:"render",value:function(){var _this2=this,user=users.findByID(this.props.userID),loading=__WEBPACK_IMPORTED_MODULE_2_app_models_chatModel__.default.getChat(this.props.userID).loading,userIconClassName=user.isOnline()?"":"o-40",userIconTooltip=user.isOnline()?" (online)":" (offline)";return React.createElement("div",{onClick:this.markAsRead,className:"chat"},React.createElement("div",{className:"h-flex-row justify-sb ph-24 h-64"},React.createElement("div",{className:"h-flex-row"},React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_userIcon__.a,{user:user,className:userIconClassName,tooltip:userIconTooltip}),React.createElement("span",{className:"fs-18 ml-13"},user.name.unescapeHTML()))),React.createElement(__WEBPACK_IMPORTED_MODULE_1__messageArea__.a,{ref:function(el){return _this2.messages=el},loading:loading,resendMessage:this.resendMessage,onScrollTop:this.fetchOlderMessages,messages:this.props.messages}),React.createElement("div",{className:"is-stretched ph-24 h-84 bt-1"},React.createElement("form",{className:"h-100% h-flex-row justify-sb",onSubmit:this.submitMessage},React.createElement("textarea",{ref:function(el){return _this2.input=el},className:"content-visible h-100% h-flex-grow h-overflow-y lh-160% pr-20 pt-20 pb-10 b-0",placeholder:I18n.t("js.your_message"),maxLength:"255",autoFocus:!0,onFocus:this.onFocus,onBlur:this.onBlur}),React.createElement("input",{type:"submit",className:"button default",value:I18n.t("js.say_it")}))))}}]),ChatWidget}(React.Component);__webpack_exports__.a=ChatWidget}).call(__webpack_exports__,__webpack_require__("nakD"))},ZEcb:function(module,exports,__webpack_require__){"use strict";exports.__esModule=!0,exports.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},module.exports=exports.default},aYvJ:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__userPopover__=__webpack_require__("HJ+y"),__WEBPACK_IMPORTED_MODULE_1_ui_components_chat_chat__=__webpack_require__("jRmw"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),UserList=function(_React$Component){function UserList(props){_classCallCheck(this,UserList);var _this=_possibleConstructorReturn(this,(UserList.__proto__||Object.getPrototypeOf(UserList)).call(this,props));return _this._openDialog=_this._openDialog.bind(_this),_this}return _inherits(UserList,_React$Component),_createClass(UserList,[{key:"sortUsers",value:function(users){return users.sort(function(userA,userB){return userA.isOnline()===userB.isOnline()?0:userA.isOnline()?-1:1})}},{key:"usersExcludingSelfAndAnonymus",value:function(usersArray){var _this2=this;return usersArray.filter(function(user){return user.id!==_this2.props.selfUser.id&&(!user.anonymous||user.isOnline())})}},{key:"_openDialog",value:function(){if(!this.props.selfUser.anonymous)return MM.ui.dialogs.dialogSharing(this.props.mapId);MM.ui.dialogs.dialogLogin(this.props.selfUser)}},{key:"render",value:function(){var _props=this.props,users=_props.users,currentUsers=_props.currentUsers,selfUser=_props.selfUser,visibleUsersCount=_props.visibleUsersCount,renderLink=_props.renderLink,allUsersExcludingSelf=this.usersExcludingSelfAndAnonymus(users),currentUsersExcludingSelf=this.usersExcludingSelfAndAnonymus(currentUsers);if(0===allUsersExcludingSelf.length&&0===currentUsersExcludingSelf.length)return null;var sortedUsers=this.sortUsers(allUsersExcludingSelf),visibleUsers=sortedUsers.slice(0,visibleUsersCount),enableChat=!selfUser.anonymous||2===selfUser.permission,peopleCountAttr=renderLink?{onClick:this._openDialog,className:"c-blue td-underline h-cp lh-120%"}:{};return React.createElement("div",{className:"h-flex-row"},React.createElement("div",{className:"h-flex-column mr-10"},React.createElement("span",{className:"fs-10 c-lighter"},I18n.t("js.shared_with")),React.createElement("span",peopleCountAttr,I18n.t("js.count_people",{count:allUsersExcludingSelf.length}))),React.createElement("div",{className:"h-flex-row mr-10"},visibleUsers.map(function(user,index){return React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_chat_chat__.a,{key:user.id,userID:user.id,enabled:enableChat})}),sortedUsers.length>visibleUsers.length?React.createElement(__WEBPACK_IMPORTED_MODULE_0__userPopover__.a,{users:sortedUsers.slice(visibleUsers.length,sortedUsers.length)}):null))}}]),UserList}(React.Component);__webpack_exports__.a=UserList}).call(__webpack_exports__,__webpack_require__("nakD"))},"ea/l":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_mapToZero=__webpack_require__("Y4x1"),_mapToZero2=_interopRequireDefault(_mapToZero),_stripStyle=__webpack_require__("Luvl"),_stripStyle2=_interopRequireDefault(_stripStyle),_stepper3=__webpack_require__("TOzf"),_stepper4=_interopRequireDefault(_stepper3),_performanceNow=__webpack_require__("CfMn"),_performanceNow2=_interopRequireDefault(_performanceNow),_raf=__webpack_require__("0yAA"),_raf2=_interopRequireDefault(_raf),_shouldStopAnimation=__webpack_require__("KcBO"),_shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation),_react=__webpack_require__("nakD"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("3/B0"),_propTypes2=_interopRequireDefault(_propTypes),_createReactClass=__webpack_require__("Jqst"),_createReactClass2=_interopRequireDefault(_createReactClass),Motion=_createReactClass2.default({propTypes:{defaultStyle:_propTypes2.default.objectOf(_propTypes2.default.number),style:_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object])).isRequired,children:_propTypes2.default.func.isRequired,onRest:_propTypes2.default.func},getInitialState:function(){var _props=this.props,defaultStyle=_props.defaultStyle,style=_props.style,currentStyle=defaultStyle||_stripStyle2.default(style),currentVelocity=_mapToZero2.default(currentStyle);return{currentStyle:currentStyle,currentVelocity:currentVelocity,lastIdealStyle:currentStyle,lastIdealVelocity:currentVelocity}},wasAnimating:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyle:null,clearUnreadPropStyle:function(destStyle){var dirty=!1,_state=this.state,currentStyle=_state.currentStyle,currentVelocity=_state.currentVelocity,lastIdealStyle=_state.lastIdealStyle,lastIdealVelocity=_state.lastIdealVelocity;for(var key in destStyle)if(Object.prototype.hasOwnProperty.call(destStyle,key)){var styleValue=destStyle[key];"number"==typeof styleValue&&(dirty||(dirty=!0,currentStyle=_extends({},currentStyle),currentVelocity=_extends({},currentVelocity),lastIdealStyle=_extends({},lastIdealStyle),lastIdealVelocity=_extends({},lastIdealVelocity)),currentStyle[key]=styleValue,currentVelocity[key]=0,lastIdealStyle[key]=styleValue,lastIdealVelocity[key]=0)}dirty&&this.setState({currentStyle:currentStyle,currentVelocity:currentVelocity,lastIdealStyle:lastIdealStyle,lastIdealVelocity:lastIdealVelocity})},startAnimationIfNecessary:function(){var _this=this;this.animationID=_raf2.default(function(timestamp){var propsStyle=_this.props.style;if(_shouldStopAnimation2.default(_this.state.currentStyle,propsStyle,_this.state.currentVelocity))return _this.wasAnimating&&_this.props.onRest&&_this.props.onRest(),_this.animationID=null,_this.wasAnimating=!1,void(_this.accumulatedTime=0);_this.wasAnimating=!0;var currentTime=timestamp||_performanceNow2.default(),timeDelta=currentTime-_this.prevTime;if(_this.prevTime=currentTime,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),newLastIdealStyle={},newLastIdealVelocity={},newCurrentStyle={},newCurrentVelocity={};for(var key in propsStyle)if(Object.prototype.hasOwnProperty.call(propsStyle,key)){var styleValue=propsStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=_this.state.lastIdealStyle[key],newLastIdealVelocityValue=_this.state.lastIdealVelocity[key],i=0;i<framesToCatchUp;i++){var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyle:newCurrentStyle,currentVelocity:newCurrentVelocity,lastIdealStyle:newLastIdealStyle,lastIdealVelocity:newLastIdealVelocity}),_this.unreadPropStyle=null,_this.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(props){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=props.style,null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},render:function(){var renderedChildren=this.props.children(this.state.currentStyle);return renderedChildren&&_react2.default.Children.only(renderedChildren)}});exports.default=Motion,module.exports=exports.default},fGUG:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ui_components_generic_list_list__=__webpack_require__("worM"),__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__=__webpack_require__("YmTu"),__WEBPACK_IMPORTED_MODULE_2_Images_library_graphics_banner_onboarding_svg__=__webpack_require__("4N07"),__WEBPACK_IMPORTED_MODULE_2_Images_library_graphics_banner_onboarding_svg___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_Images_library_graphics_banner_onboarding_svg__),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ProgressPopover=function(_React$Component){function ProgressPopover(props){_classCallCheck(this,ProgressPopover);var _this=_possibleConstructorReturn(this,(ProgressPopover.__proto__||Object.getPrototypeOf(ProgressPopover)).call(this,props));return _this.handleRemoveClick=_this.handleRemoveClick.bind(_this),_this}return _inherits(ProgressPopover,_React$Component),_createClass(ProgressPopover,[{key:"handleRemoveClick",value:function(e){e.preventDefault(),e.stopPropagation(),this.props.onRemove()}},{key:"render",value:function(){var _this2=this,items=this.props.parts.map(function(part,i){var icon=part.finished?React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__.a,{className:"s-22 bc-grey4 b-2 rad-100% h-flex-row justify-center mr-8",opts:{name:"checkmark",color:"grey3",size:10}}):React.createElement("div",{className:"h-flex-row justify-center p-r s-22 rad-100% b-2 bc-purple c-purple fs-12 fw-700 mr-8"},React.createElement("span",null,i+1),React.createElement("span",{className:"p-a rad-100% fs-9 s-9 bg-red c-white ta-center",style:{top:-3,right:-3}},"*")),className=part.finished?"c-grey3":"";return{icon:icon,backgroundColor:part.finished?"transparent":null,label:part.name,className:className,onClick:function(){return _this2.props.onListClick(part)}}});return React.createElement("div",{className:"pv-10"},React.createElement("div",{className:"h-flex-column ph-20"},React.createElement("div",{className:"h-flex-row align-items-start mb-15"},React.createElement("span",{className:"h-flex-grow fs-18 c-grey fw-500"},I18n.t("js.tutorials")),React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_svgIcon__.a,{opts:{name:"close",size:12,color:"grey3"},onClick:this.props.close})),React.createElement("span",null,I18n.t("js.onboarding.progress.description")),React.createElement("img",{className:"mt-30 mh-10 mb-20",src:__WEBPACK_IMPORTED_MODULE_2_Images_library_graphics_banner_onboarding_svg___default.a})),React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_list_list__.a,{className:"mb-25",items:items}),React.createElement("a",{href:"#",className:"ph-20 td-underline",onClick:this.handleRemoveClick},I18n.t("js.do_not_show_this_anymore")))}}]),ProgressPopover}(React.Component);ProgressPopover.defaultProps={parts:[],onListClick:function(){},onRemove:function(){}},__webpack_exports__.default=ProgressPopover}.call(__webpack_exports__,__webpack_require__("nakD"))},fti0:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__=__webpack_require__("YmTu"),__WEBPACK_IMPORTED_MODULE_1_ui_components_shareLinkWidget_shareLinkWidget__=__webpack_require__("SO8C"),__WEBPACK_IMPORTED_MODULE_2_ui_components_invitationWidget_form__=__webpack_require__("uJpZ"),__WEBPACK_IMPORTED_MODULE_3_ui_components_generic_list_list__=__webpack_require__("worM"),__WEBPACK_IMPORTED_MODULE_4_ui_components_generic_skimmableList_skimmableList__=__webpack_require__("jR5l"),__WEBPACK_IMPORTED_MODULE_5_ui_components_generic_popover__=__webpack_require__("aEw3"),__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__=__webpack_require__("xY9N"),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PLATFORMS=["Facebook","Twitter","Pinterest"],noop=function(){return null},onSocialMediaShare=function(_ref){var platform=_ref.platform,isPublicMap=_ref.isPublicMap,mapId=_ref.mapId,onPublish=_ref.onPublish;if(isPublicMap)socialMediaHandler(platform);else{var popup=void 0;MM.ui.dialogs.dialogPublishConfirmation(mapId,{okCallback:function(){return popup=socialMediaHandler(platform,!0)},successCallback:function(){onPublish(),popup.win.location.href=popup.shareUrl}})}},socialMediaHandler=function(platform,async){var title=tree.root.getRawTitle(),rootId=App.tree.root.id;return MM.utils.Social.share(platform,{async:async,rootId:rootId,title:title,url:document.location.origin+"/"+rootId+"/"+App.titleToURI(title)})},renderSocialMediaList=function(_ref2){var isPublicMap=_ref2.isPublicMap,canShare=_ref2.canShare,mapId=_ref2.mapId,onPublish=_ref2.onPublish;if(isPublicMap||canShare){var items=PLATFORMS.map(function(platform){return{icon:React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__.a,{opts:{name:"service-"+platform.toLowerCase(),size:20,parentClasses:"rad-5px mr-8px"}}),label:platform,onClick:function(){return onSocialMediaShare({platform:platform,isPublicMap:isPublicMap,mapId:mapId,onPublish:onPublish})}}});return React.createElement(__WEBPACK_IMPORTED_MODULE_3_ui_components_generic_list_list__.a,{header:{title:I18n.t("js.social_media")},items:items,className:"mt-10 mb-15"})}return React.createElement("div",null)},renderSharingItems=function(_ref3){var isPublicMap=_ref3.isPublicMap,isPublishMapAllowed=_ref3.isPublishMapAllowed,isAnonymous=_ref3.isAnonymous,mapId=_ref3.mapId,onPublish=_ref3.onPublish;if(!isAnonymous){var items=[];if(isPublishMapAllowed){var label=isPublicMap?I18n.t("js.publishing_settings"):I18n.t("js.publish_map"),publicItem={icon:React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__.a,{opts:{name:"publish",color:"white",size:12,consize:20,parentClasses:"bg-blue rad-5px mr-8px"}}),label:label+"...",onClick:function(){isPublicMap?MM.ui.dialogs.dialogPublish(mapId):MM.ui.dialogs.dialogPublishConfirmation(mapId,{successCallback:function(){onPublish(),MM.ui.dialogs.dialogPublish(mapId)}})}};items.push(publicItem)}return items.push({icon:React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__.a,{opts:{name:"sharing",color:"white",size:12,consize:20,parentClasses:"bg-green rad-5px mr-8px"}}),label:I18n.t("js.sharing_settings")+"...",onClick:function(){return MM.ui.dialogs.dialogSharing(mapId)}}),React.createElement(__WEBPACK_IMPORTED_MODULE_3_ui_components_generic_list_list__.a,{header:{title:I18n.t("js.more")},items:items,className:"mv-10"})}return React.createElement("div",null)},renderContent=function(props){var currentUser=props.currentUser,isPublicMap=props.isPublicMap,mapId=props.mapId,onPublish=props.onPublish,isLinkShareAllowed=props.isLinkShareAllowed,isPublishMapAllowed=props.isPublishMapAllowed,canShare=currentUser.canShare(),readOnly=currentUser.anonymous||!canShare;return React.createElement("div",null,React.createElement("div",{className:"fs-18 fw-500 m-20px mt-10px"},I18n.t("js.share_this_map")),readOnly?null:React.createElement(__WEBPACK_IMPORTED_MODULE_2_ui_components_invitationWidget_form__.a,{title:I18n.t("js.invite_people"),hideTokenizerHeader:!0}),isLinkShareAllowed?React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_shareLinkWidget_shareLinkWidget__.a,{className:"mb-20",readOnly:readOnly,mapId:mapId,on:App.config.linkShare,link:App.config.shareLink,onChange:readOnly?noop:App.changeLinkSharing.bind(App)}):null,React.createElement(__WEBPACK_IMPORTED_MODULE_4_ui_components_generic_skimmableList_skimmableList__.a,null,renderSocialMediaList({isPublicMap:isPublicMap,canShare:canShare,mapId:mapId,onPublish:onPublish}),renderSharingItems({isPublicMap:isPublicMap,isPublishMapAllowed:isPublishMapAllowed&&canShare,isAnonymous:currentUser.anonymous,mapId:mapId,onPublish:onPublish})))},Component=function(_React$Component){function Component(props){_classCallCheck(this,Component);var _this=_possibleConstructorReturn(this,(Component.__proto__||Object.getPrototypeOf(Component)).call(this,props));return _this.state={isLinkShareAllowed:!0,isPublishMapAllowed:!0},_this}return _inherits(Component,_React$Component),_createClass(Component,[{key:"componentWillMount",value:function(){var _this2=this;Object(__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__.b)(function(){return _this2.setState({isLinkShareAllowed:Object(__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__.c)(__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__.a.ALLOW_LINK_SHARE),isPublishMapAllowed:Object(__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__.c)(__WEBPACK_IMPORTED_MODULE_6_utils_teamPreferences__.a.ALLOW_PUBLISH)})})}},{key:"render",value:function(){var _props=this.props,onShow=_props.onShow,onClose=_props.onClose,rest=_objectWithoutProperties(_props,["onShow","onClose"]);return React.createElement(__WEBPACK_IMPORTED_MODULE_5_ui_components_generic_popover__.a,{position:"above",canAutoPosition:!1,className:"sections",opener:React.createElement("btn",{id:"btn_share",className:"h-flex-row h-32px lh-32px"},React.createElement("span",null,I18n.t("js.share")),React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__.a,{className:"c-blue pl-5px",opts:{name:"triangle",color:"blue",size:8}})),onShow:onShow,onClose:onClose},renderContent(_extends({},rest,this.state)))}}]),Component}(React.Component);__webpack_exports__.a=Component}).call(__webpack_exports__,__webpack_require__("nakD"))},gcQM:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){var __WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__=__webpack_require__("YmTu"),ChatMessage=function(props){var message=props.message,resendMessage=props.resendMessage,text=message.text.strip().escapeHTML().replace(/\n/gi,"<br/>"),time=(message.timestamp?new Date(1e3*message.timestamp):new Date).toUIString(),source=message.user_id!==users.selfUser.id?"them":"me",error=void 0;return message.failed&&(error=React.createElement("div",{className:"ta-center mv-10"},React.createElement(__WEBPACK_IMPORTED_MODULE_0_ui_components_generic_svgIcon__.a,{className:"mb-5 h-iblock",opts:{name:"warning",size:30}}),React.createElement("span",{className:"h-block mb-10"},"Message could not be sent"),React.createElement("a",{onClick:function(){return resendMessage(message)},className:"button h-iblock mb-10"},"Resend"))),React.createElement("div",{className:"msg from-"+source},React.createElement("div",{className:"bubble",title:time},React.createElement("p",{dangerouslySetInnerHTML:{__html:EmojiArea.getHTMLContent(text)}}),error))};__webpack_exports__.a=ChatMessage}).call(__webpack_exports__,__webpack_require__("nakD"))},iTIp:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function shouldStopAnimationAll(currentStyles,styles,currentVelocities){for(var i=0;i<currentStyles.length;i++)if(!_shouldStopAnimation2.default(currentStyles[i],styles[i],currentVelocities[i]))return!1;return!0}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_mapToZero=__webpack_require__("Y4x1"),_mapToZero2=_interopRequireDefault(_mapToZero),_stripStyle=__webpack_require__("Luvl"),_stripStyle2=_interopRequireDefault(_stripStyle),_stepper3=__webpack_require__("TOzf"),_stepper4=_interopRequireDefault(_stepper3),_performanceNow=__webpack_require__("CfMn"),_performanceNow2=_interopRequireDefault(_performanceNow),_raf=__webpack_require__("0yAA"),_raf2=_interopRequireDefault(_raf),_shouldStopAnimation=__webpack_require__("KcBO"),_shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation),_react=__webpack_require__("nakD"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("3/B0"),_propTypes2=_interopRequireDefault(_propTypes),_createReactClass=__webpack_require__("Jqst"),_createReactClass2=_interopRequireDefault(_createReactClass),StaggeredMotion=_createReactClass2.default({propTypes:{defaultStyles:_propTypes2.default.arrayOf(_propTypes2.default.objectOf(_propTypes2.default.number)),styles:_propTypes2.default.func.isRequired,children:_propTypes2.default.func.isRequired},getInitialState:function(){var _props=this.props,defaultStyles=_props.defaultStyles,styles=_props.styles,currentStyles=defaultStyles||styles().map(_stripStyle2.default),currentVelocities=currentStyles.map(function(currentStyle){return _mapToZero2.default(currentStyle)});return{currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:currentStyles,lastIdealVelocities:currentVelocities}},animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(unreadPropStyles){for(var _state=this.state,currentStyles=_state.currentStyles,currentVelocities=_state.currentVelocities,lastIdealStyles=_state.lastIdealStyles,lastIdealVelocities=_state.lastIdealVelocities,someDirty=!1,i=0;i<unreadPropStyles.length;i++){var unreadPropStyle=unreadPropStyles[i],dirty=!1;for(var key in unreadPropStyle)if(Object.prototype.hasOwnProperty.call(unreadPropStyle,key)){var styleValue=unreadPropStyle[key];"number"==typeof styleValue&&(dirty||(dirty=!0,someDirty=!0,currentStyles[i]=_extends({},currentStyles[i]),currentVelocities[i]=_extends({},currentVelocities[i]),lastIdealStyles[i]=_extends({},lastIdealStyles[i]),lastIdealVelocities[i]=_extends({},lastIdealVelocities[i])),currentStyles[i][key]=styleValue,currentVelocities[i][key]=0,lastIdealStyles[i][key]=styleValue,lastIdealVelocities[i][key]=0)}}someDirty&&this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})},startAnimationIfNecessary:function(){var _this=this;this.animationID=_raf2.default(function(timestamp){var destStyles=_this.props.styles(_this.state.lastIdealStyles);if(shouldStopAnimationAll(_this.state.currentStyles,destStyles,_this.state.currentVelocities))return _this.animationID=null,void(_this.accumulatedTime=0);var currentTime=timestamp||_performanceNow2.default(),timeDelta=currentTime-_this.prevTime;if(_this.prevTime=currentTime,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();for(var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),newLastIdealStyles=[],newLastIdealVelocities=[],newCurrentStyles=[],newCurrentVelocities=[],i=0;i<destStyles.length;i++){var destStyle=destStyles[i],newCurrentStyle={},newCurrentVelocity={},newLastIdealStyle={},newLastIdealVelocity={};for(var key in destStyle)if(Object.prototype.hasOwnProperty.call(destStyle,key)){var styleValue=destStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=_this.state.lastIdealStyles[i][key],newLastIdealVelocityValue=_this.state.lastIdealVelocities[i][key],j=0;j<framesToCatchUp;j++){var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}newCurrentStyles[i]=newCurrentStyle,newCurrentVelocities[i]=newCurrentVelocity,newLastIdealStyles[i]=newLastIdealStyle,newLastIdealVelocities[i]=newLastIdealVelocity}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities}),_this.unreadPropStyles=null,_this.startAnimationIfNecessary()})},componentDidMount:function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(props){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=props.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},render:function(){var renderedChildren=this.props.children(this.state.currentStyles);return renderedChildren&&_react2.default.Children.only(renderedChildren)}});exports.default=StaggeredMotion,module.exports=exports.default},jRmw:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0_css_ui_components_chat__=__webpack_require__("+X7E"),__WEBPACK_IMPORTED_MODULE_1__chatWidget__=(__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_css_ui_components_chat__),__webpack_require__("Z8UF")),__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_popover__=__webpack_require__("aEw3"),__WEBPACK_IMPORTED_MODULE_3_ui_components_generic_userNotification__=__webpack_require__("DrJx"),__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__=__webpack_require__("9Oqg"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Chat=function(_React$Component){function Chat(props){_classCallCheck(this,Chat);var _this=_possibleConstructorReturn(this,(Chat.__proto__||Object.getPrototypeOf(Chat)).call(this,props));return __WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getOlderMessages(_this.props.userID),_this.state={open:!1},_this.markAsRead=_this.markAsRead.bind(_this),_this.setOpen=_this.setOpen.bind(_this),_this.setClosed=_this.setClosed.bind(_this),_this.update=_this.update.bind(_this),_this}return _inherits(Chat,_React$Component),_createClass(Chat,[{key:"markAsRead",value:function(){__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.markAsRead(this.props.userID)}},{key:"setOpen",value:function(){this.setState({open:!0}),this.markAsRead()}},{key:"setClosed",value:function(){this.setState({open:!1})}},{key:"update",value:function(){__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getUnreadMessages(this.props.userID).length>0&&this.state.open&&(this.markAsRead(),this.widget.onNewMessage()),this.forceUpdate()}},{key:"componentDidMount",value:function(){App.subscribe(CustomEvents.CHAT_UPDATE+"_"+this.props.userID,this.update)}},{key:"componentWillReceiveProps",value:function(nextProps){this.props.userID!==nextProps.userID&&(__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getOlderMessages(nextProps.userID),App.unsubscribe(CustomEvents.CHAT_UPDATE+"_"+this.props.userID,this.update),App.subscribe(CustomEvents.CHAT_UPDATE+"_"+nextProps.userID,this.update))}},{key:"componentWillUnmount",value:function(){App.unsubscribe(CustomEvents.CHAT_UPDATE+"_"+this.props.userID,this.update),__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getOlderMessages(this.props.userID)}},{key:"render",value:function(){var _this2=this,chat=__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getChat(this.props.userID),unread=__WEBPACK_IMPORTED_MODULE_4_app_models_chatModel__.default.getUnreadMessages(this.props.userID).length;return React.createElement(__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_popover__.a,{position:"above",canAutoPosition:!1,className:"p-0",onShow:this.setOpen,onClose:this.setClosed,disabled:!this.props.enabled,opener:React.createElement(__WEBPACK_IMPORTED_MODULE_3_ui_components_generic_userNotification__.a,{unread:unread,userId:this.props.userID,className:"mh-4",enabled:this.props.enabled})},React.createElement(__WEBPACK_IMPORTED_MODULE_1__chatWidget__.a,{ref:function(el){return _this2.widget=el},messages:chat.messages,userID:this.props.userID}))}}]),Chat}(React.Component);__webpack_exports__.a=Chat}).call(__webpack_exports__,__webpack_require__("nakD"))},k1IG:function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),function(ReactDOM,React){var __WEBPACK_IMPORTED_MODULE_1_ui_components_userList_userList__=(__webpack_require__("67vC"),__webpack_require__("aYvJ")),__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_svgIcon__=__webpack_require__("YmTu"),__WEBPACK_IMPORTED_MODULE_3_ui_components_popovers_sharingPopover__=__webpack_require__("fti0"),__WEBPACK_IMPORTED_MODULE_4_lodash_capitalize__=__webpack_require__("8RG9"),__WEBPACK_IMPORTED_MODULE_4_lodash_capitalize___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_lodash_capitalize__),Footer={visibleUsers:0,bars:{history:{height:168,permissions:"write",path:"ui/history/history"},slideshow:{height:150,permissions:"write",path:"ui/presentation/slideshow"},print:{height:77,permissions:"read",path:"ui/print/print"},meistertask:{height:150,permissions:"write",path:"utils/meistertask/meistertask"}},init:function(){this.el=$("map_footer"),this.els={bar:$("footerbar"),collaborators:$("collaborators-list"),collaboratorsContainer:$("collaboration-container")},this.enable(),Element.bindOnClick("btn_present",Presentation.togglePresenter.bind(Presentation)),Element.bindOnClick("btn_export",this._onExportClick.bind(this)),this.setViewportOffset(),UI.Registry.add(this),UI.Registry.notify(this,"show"),MM.ui.ToolTips.touchSafe({el:this.el}),this.els.collaborators&&this.els.collaboratorsContainer&&this._renderSharingButton(),this.calculateVisibleUsers(),App.subscribe(CustomEvents.COLLABORATORS_UPDATED,this._renderUsers.bind(this))},_onExportClick:function(){users.selfUser.anonymous?MM.ui.dialogs.dialogLogin(users.selfUser):MM.ui.dialogs.dialogExportMap(App.config.map_id,null,{onShow:function(){return App.trigger(CustomEvents.EXPORT_DLG_OPENED)},onClose:function(){return App.trigger(CustomEvents.EXPORT_DLG_CLOSED)}})},_onPrintClick:function(){users.selfUser.anonymous?MM.ui.dialogs.dialogLogin(users.selfUser):this.toggleBar("print")},_renderSharingButton:function(){var _this=this;ReactDOM.render(React.createElement(__WEBPACK_IMPORTED_MODULE_3_ui_components_popovers_sharingPopover__.a,{currentUser:users.selfUser,mapId:App.config.map_id,isPublicMap:App.config.isPublic,onShow:function(){return App.trigger(CustomEvents.SHARING_POPOVER_OPENED)},onClose:function(){return App.trigger(CustomEvents.SHARING_POPOVER_CLOSED)},onPublish:function(){App.config.isPublic=!0,_this._renderSharingButton()}}),mm$("btn-share-container"))},_renderUsers:function(){if("phantomjs"!==App.config.environment&&this.els.collaborators)if(MM.ua.isPhone||MM.ua.isTablet)ReactDOM.render(React.createElement("div",{className:"h-flex-row p-r mr-10"},React.createElement(__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_svgIcon__.a,{opts:{name:"service-android",size:32,parentClasses:"rad-100%"}}),React.createElement(__WEBPACK_IMPORTED_MODULE_2_ui_components_generic_svgIcon__.a,{opts:{name:"service-ios",size:32,parentClasses:"rad-100% bc-grey3 b-1 p-a h-v-center al-24"}}),React.createElement("p",{className:"fs-12 pl-30",dangerouslySetInnerHTML:{__html:I18n.t("js.app_teaser_map_view_html")}})),this.els.collaborators);else{var collaborators=users.collaborators();ReactDOM.render(React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_userList_userList__.a,{mapId:App.config.map_id,renderLink:"embedded_full"!==App.config.viewMode,users:collaborators,currentUsers:users.currentUsers,selfUser:users.selfUser,visibleUsersCount:Math.min(this.visibleUsers,collaborators.length)}),this.els.collaborators)}},setViewportOffset:function(){this.viewportSpace={bottom:this.el.offsetHeight+(this.activeBar?this.els.bar.offsetHeight:0)}},calculateVisibleUsers:function(){if(this.els.collaboratorsContainer){var availableWidth=this.els.collaboratorsContainer.clientWidth-280,maxUsers=Math.floor(availableWidth/32);this.visibleUsers=Math.min(maxUsers,5)}},onResize:function(){this.setViewportOffset();var oldVisibleUsers=this.visibleUsers;this.calculateVisibleUsers(),this.visibleUsers!==oldVisibleUsers&&this._renderUsers()},show:function(useEffect){var _this2=this,animationDuration=(useEffect?500:0)+"ms";CSS.set(this.el,{bottom:"0px",transitionDuration:animationDuration}),this.hiddenBar&&(this.showBar(this.hiddenBar),this.hiddenBar=null),setTimeout(function(){return UI.Registry.notify(_this2,"show")},useEffect?500:10)},hide:function(use_effect){var transitionDuration=use_effect?"500ms":"0ms";CSS.set(this.el,{bottom:-this.el.getHeight()+"px",transitionDuration:transitionDuration}),this.activeBar&&(this.hiddenBar=this.activeBar,this.hideBar(this.activeBar)),UI.Registry.notify(this,"hide")},enable:function(){Object.keys(this.bars).each(function(bar){var listenerName=bar+"Listener",btn=$("btn_toggle"+bar);if(!this.hasOwnProperty(listenerName)){var clickHandler=this["_on"+__WEBPACK_IMPORTED_MODULE_4_lodash_capitalize___default()(bar)+"Click"];this[listenerName]=clickHandler?clickHandler.bind(this):this.toggleBar.bind(this,bar)}btn&&("write"===this.bars[bar].permissions&&App.config.editable||"read"===this.bars[bar].permissions?(btn.observe("click",this[listenerName]),MM.ui.enableButton(btn)):(btn.stopObserving("click",this[listenerName]),btn.title=I18n.t("js.you_are_in_view_only_mode"),MM.ui.disableButton(btn)))}.bind(this))},disable:function(){Object.keys(this.bars).each(function(bar){mm$("btn_toggle"+bar)&&$("btn_toggle"+bar).stopObserving("click",this[bar+"Listener"])}.bind(this))},toggleBar:function(type){return!!this.els.bar&&("write"!==this.bars[type].permissions||App.config.editable?(this.activeBar===type?this.hideBar(type):this.showBar(type),!1):(App.ui.Message.show(I18n.t("js.you_are_in_view_only_mode"),Message.NOTICE),!1))},showBar:function(type){if(this.els.bar){this.activeBar&&(this.hideBar(this.activeBar,!0),this.els.bar.innerHTML=""),this.actions.hasOwnProperty("onBeforeShow"+type.capitalize())&&this.actions["onBeforeShow"+type.capitalize()](),addClassName(mm$("btn_toggle"+type),"active");var loadAjaxFunc=function(){new Ajax.Request("/toolbar/"+type,{parameters:{id:App.config.map_id},evalScripts:!0,asynchronous:!0,onComplete:function(transport){var response=transport.responseJSON;response?(this.hideBar(type),removeClassName(mm$("btn_toggle"+type),"active"),MM.ui.enableButton("btn_toggle"+type),response.error?Message.show(response.error,Message.ERROR):response.info&&Message.show(response.info,Message.INFO)):("meistertask"===type&&this._prepareBar(type),this.activeBar&&this._doShowBar(type))}.bind(this)})}.bind(this),path=this.bars[type].path;__webpack_require__("CgDZ")("./"+path).then(function(){return loadAjaxFunc()}),"meistertask"!==type&&(this._prepareBar(type),Amplitude.logEvent("toolbar_"+type)),App.hideAnonymousHint()}},_prepareBar:function(type){this.activeBar=type,this.els.bar.style.bottom="",this.els.bar.morph("height:"+this.bars[type].height+"px",{afterFinish:function(){UI.Registry.onResize(),this.onShowBarComplete(type),this.actions.hasOwnProperty("onShow"+type.capitalize())&&this.actions["onShow"+type.capitalize()]()}.bind(this)})},_doShowBar:function(type){this.actions.hasOwnProperty("doStart"+type.capitalize())?this.actions["doStart"+type.capitalize()]():this.enable(),MM.utils.siteLocation.setLoc(type),this.els.bar.select(".js-close-footerbar")[0].onclick=this.toggleBar.bind(this,type),MM.ui.enableButton("btn_toggle"+type)},onShowBarComplete:function(type){this.els.bar.addClassName("active"),"info"==type&&(this.els.bar.style.height="auto")},hideBar:function(type,noEffects){this.els.bar&&(MM.utils.siteLocation.reset(),this.activeBar=null,removeClassName(this.els.bar,"active"),noEffects?this._doHideBar(type):this.els.bar.morph("height: 0;",{afterFinish:this._doHideBar.bind(this,type)}),removeClassName(mm$("btn_toggle"+type),"active"),App.showAnonymousHint())},_doHideBar:function(type){this.els.bar.style.bottom="0",UI.Registry.onResize(),this.actions.hasOwnProperty("doStop"+type.capitalize())&&this.actions["doStop"+type.capitalize()](),new Ajax.Request("/toolbar/hide",{parameters:{id:App.config.map_id},evalScripts:!0,asynchronous:!0}),MM.ui.enableButton("btn_toggle"+type)}};Footer.Meistertask={updateIcon:function(connected){var el=mm$("btn_togglemeistertask");el&&(connected?(removeClassName(el,"icon-path"),addClassName(el,"icon-bg"),el.setAttribute("data-icon","mt-checkmark")):(removeClassName(el,"icon-bg"),addClassName(el,"icon-path"),el.setAttribute("data-icon","mt-checkmark-border")),MM.ui.svgIcons(el))}},Footer.actions={onBeforeShowPrint:function(){App.config.currentlyEditable=!1,UI.Registry.toggleMode("view")},doStartPrint:function(){App.ui.Print.init()},doStopPrint:function(){App.config.editable&&(App.config.currentlyEditable=!0,UI.Registry.toggleMode("edit")),App.ui.Print.exit()},doStartMeistertask:function(){App.trigger(CustomEvents.MEISTERTASK_BAR_OPENED)},doStopMeistertask:function(){MM.utils.Meistertask.exit();var popover=GeneralPopover.get("mt_project_footer");popover&&popover.destroy()},onBeforeShowHistory:function(){App.config.showRevisions=!0,App.config.currentlyEditable=!1,UI.Registry.toggleMode("view"),App.showMapLoading()},doStartHistory:function(){var autoload=App.config.autoStart&&"changes"===App.config.autoStart;RevisionBrowser.start(this.startHistoryView,autoload,!0),App.trigger(CustomEvents.HISTORY_MODE_STARTED)},doStopHistory:function(){App.showMapLoading(),"undefined"!=typeof RevisionsSlider&&RevisionsSlider.highlightNodes(!1),"undefined"!=typeof RevisionBrowser&&RevisionBrowser.stop(),App.config.editable&&(App.config.currentlyEditable=!0,UI.Registry.toggleMode("edit")),mm$("canvas_container").style.opacity=1,App.config.showRevisions=!1,App.hideMapLoading(),App.trigger(CustomEvents.HISTORY_MODE_CLOSED)},doStartSlideshow:function(viewOnly){Presentation.Slideshow.prepare(viewOnly)},doStopSlideshow:function(){Presentation.on||Presentation.Slideshow.exit()},historyRevert:function(){var revertTo=RevisionBrowser.revision+1;ServerConnection.historyRevert(revertTo)},startHistoryView:function(){mm$("canvas_container").style.opacity=.7,App.hideMapLoading()}},__webpack_exports__.default=Footer}.call(__webpack_exports__,__webpack_require__("x9tB"),__webpack_require__("nakD"))},"m6/l":function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function rehydrateStyles(mergedPropsStyles,unreadPropStyles,plainStyles){var cUnreadPropStyles=unreadPropStyles;return null==cUnreadPropStyles?mergedPropsStyles.map(function(mergedPropsStyle,i){return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}}):mergedPropsStyles.map(function(mergedPropsStyle,i){for(var j=0;j<cUnreadPropStyles.length;j++)if(cUnreadPropStyles[j].key===mergedPropsStyle.key)return{key:cUnreadPropStyles[j].key,data:cUnreadPropStyles[j].data,style:plainStyles[i]};return{key:mergedPropsStyle.key,data:mergedPropsStyle.data,style:plainStyles[i]}})}function shouldStopAnimationAll(currentStyles,destStyles,currentVelocities,mergedPropsStyles){if(mergedPropsStyles.length!==destStyles.length)return!1;for(var i=0;i<mergedPropsStyles.length;i++)if(mergedPropsStyles[i].key!==destStyles[i].key)return!1;for(var i=0;i<mergedPropsStyles.length;i++)if(!_shouldStopAnimation2.default(currentStyles[i],destStyles[i].style,currentVelocities[i]))return!1;return!0}function mergeAndSync(willEnter,willLeave,didLeave,oldMergedPropsStyles,destStyles,oldCurrentStyles,oldCurrentVelocities,oldLastIdealStyles,oldLastIdealVelocities){for(var newMergedPropsStyles=_mergeDiff2.default(oldMergedPropsStyles,destStyles,function(oldIndex,oldMergedPropsStyle){var leavingStyle=willLeave(oldMergedPropsStyle);return null==leavingStyle?(didLeave({key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data}),null):_shouldStopAnimation2.default(oldCurrentStyles[oldIndex],leavingStyle,oldCurrentVelocities[oldIndex])?(didLeave({key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data}),null):{key:oldMergedPropsStyle.key,data:oldMergedPropsStyle.data,style:leavingStyle}}),newCurrentStyles=[],newCurrentVelocities=[],newLastIdealStyles=[],newLastIdealVelocities=[],i=0;i<newMergedPropsStyles.length;i++){for(var newMergedPropsStyleCell=newMergedPropsStyles[i],foundOldIndex=null,j=0;j<oldMergedPropsStyles.length;j++)if(oldMergedPropsStyles[j].key===newMergedPropsStyleCell.key){foundOldIndex=j;break}if(null==foundOldIndex){var plainStyle=willEnter(newMergedPropsStyleCell);newCurrentStyles[i]=plainStyle,newLastIdealStyles[i]=plainStyle;var velocity=_mapToZero2.default(newMergedPropsStyleCell.style);newCurrentVelocities[i]=velocity,newLastIdealVelocities[i]=velocity}else newCurrentStyles[i]=oldCurrentStyles[foundOldIndex],newLastIdealStyles[i]=oldLastIdealStyles[foundOldIndex],newCurrentVelocities[i]=oldCurrentVelocities[foundOldIndex],newLastIdealVelocities[i]=oldLastIdealVelocities[foundOldIndex]}return[newMergedPropsStyles,newCurrentStyles,newCurrentVelocities,newLastIdealStyles,newLastIdealVelocities]}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_mapToZero=__webpack_require__("Y4x1"),_mapToZero2=_interopRequireDefault(_mapToZero),_stripStyle=__webpack_require__("Luvl"),_stripStyle2=_interopRequireDefault(_stripStyle),_stepper3=__webpack_require__("TOzf"),_stepper4=_interopRequireDefault(_stepper3),_mergeDiff=__webpack_require__("nZpL"),_mergeDiff2=_interopRequireDefault(_mergeDiff),_performanceNow=__webpack_require__("CfMn"),_performanceNow2=_interopRequireDefault(_performanceNow),_raf=__webpack_require__("0yAA"),_raf2=_interopRequireDefault(_raf),_shouldStopAnimation=__webpack_require__("KcBO"),_shouldStopAnimation2=_interopRequireDefault(_shouldStopAnimation),_react=__webpack_require__("nakD"),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__("3/B0"),_propTypes2=_interopRequireDefault(_propTypes),_createReactClass=__webpack_require__("Jqst"),_createReactClass2=_interopRequireDefault(_createReactClass),TransitionMotion=_createReactClass2.default({propTypes:{defaultStyles:_propTypes2.default.arrayOf(_propTypes2.default.shape({key:_propTypes2.default.string.isRequired,data:_propTypes2.default.any,style:_propTypes2.default.objectOf(_propTypes2.default.number).isRequired})),styles:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.arrayOf(_propTypes2.default.shape({key:_propTypes2.default.string.isRequired,data:_propTypes2.default.any,style:_propTypes2.default.objectOf(_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.object])).isRequired}))]).isRequired,children:_propTypes2.default.func.isRequired,willEnter:_propTypes2.default.func,willLeave:_propTypes2.default.func,didLeave:_propTypes2.default.func},getDefaultProps:function(){return{willEnter:function(styleThatEntered){return _stripStyle2.default(styleThatEntered.style)},willLeave:function(){return null},didLeave:function(){}}},getInitialState:function(){var _props=this.props,defaultStyles=_props.defaultStyles,styles=_props.styles,willEnter=_props.willEnter,willLeave=_props.willLeave,didLeave=_props.didLeave,destStyles="function"==typeof styles?styles(defaultStyles):styles,oldMergedPropsStyles=void 0;oldMergedPropsStyles=null==defaultStyles?destStyles:defaultStyles.map(function(defaultStyleCell){for(var i=0;i<destStyles.length;i++)if(destStyles[i].key===defaultStyleCell.key)return destStyles[i];return defaultStyleCell});var oldCurrentStyles=null==defaultStyles?destStyles.map(function(s){return _stripStyle2.default(s.style)}):defaultStyles.map(function(s){return _stripStyle2.default(s.style)}),oldCurrentVelocities=null==defaultStyles?destStyles.map(function(s){return _mapToZero2.default(s.style)}):defaultStyles.map(function(s){return _mapToZero2.default(s.style)}),_mergeAndSync=mergeAndSync(willEnter,willLeave,didLeave,oldMergedPropsStyles,destStyles,oldCurrentStyles,oldCurrentVelocities,oldCurrentStyles,oldCurrentVelocities),mergedPropsStyles=_mergeAndSync[0];return{currentStyles:_mergeAndSync[1],currentVelocities:_mergeAndSync[2],lastIdealStyles:_mergeAndSync[3],lastIdealVelocities:_mergeAndSync[4],mergedPropsStyles:mergedPropsStyles}},unmounting:!1,animationID:null,prevTime:0,accumulatedTime:0,unreadPropStyles:null,clearUnreadPropStyle:function(unreadPropStyles){for(var _mergeAndSync2=mergeAndSync(this.props.willEnter,this.props.willLeave,this.props.didLeave,this.state.mergedPropsStyles,unreadPropStyles,this.state.currentStyles,this.state.currentVelocities,this.state.lastIdealStyles,this.state.lastIdealVelocities),mergedPropsStyles=_mergeAndSync2[0],currentStyles=_mergeAndSync2[1],currentVelocities=_mergeAndSync2[2],lastIdealStyles=_mergeAndSync2[3],lastIdealVelocities=_mergeAndSync2[4],i=0;i<unreadPropStyles.length;i++){var unreadPropStyle=unreadPropStyles[i].style,dirty=!1;for(var key in unreadPropStyle)if(Object.prototype.hasOwnProperty.call(unreadPropStyle,key)){var styleValue=unreadPropStyle[key];"number"==typeof styleValue&&(dirty||(dirty=!0,currentStyles[i]=_extends({},currentStyles[i]),currentVelocities[i]=_extends({},currentVelocities[i]),lastIdealStyles[i]=_extends({},lastIdealStyles[i]),lastIdealVelocities[i]=_extends({},lastIdealVelocities[i]),mergedPropsStyles[i]={key:mergedPropsStyles[i].key,data:mergedPropsStyles[i].data,style:_extends({},mergedPropsStyles[i].style)}),currentStyles[i][key]=styleValue,currentVelocities[i][key]=0,lastIdealStyles[i][key]=styleValue,lastIdealVelocities[i][key]=0,mergedPropsStyles[i].style[key]=styleValue)}}this.setState({currentStyles:currentStyles,currentVelocities:currentVelocities,mergedPropsStyles:mergedPropsStyles,lastIdealStyles:lastIdealStyles,lastIdealVelocities:lastIdealVelocities})},startAnimationIfNecessary:function(){var _this=this;this.unmounting||(this.animationID=_raf2.default(function(timestamp){if(!_this.unmounting){var propStyles=_this.props.styles,destStyles="function"==typeof propStyles?propStyles(rehydrateStyles(_this.state.mergedPropsStyles,_this.unreadPropStyles,_this.state.lastIdealStyles)):propStyles;if(shouldStopAnimationAll(_this.state.currentStyles,destStyles,_this.state.currentVelocities,_this.state.mergedPropsStyles))return _this.animationID=null,void(_this.accumulatedTime=0);var currentTime=timestamp||_performanceNow2.default(),timeDelta=currentTime-_this.prevTime;if(_this.prevTime=currentTime,_this.accumulatedTime=_this.accumulatedTime+timeDelta,_this.accumulatedTime>1e3/60*10&&(_this.accumulatedTime=0),0===_this.accumulatedTime)return _this.animationID=null,void _this.startAnimationIfNecessary();for(var currentFrameCompletion=(_this.accumulatedTime-Math.floor(_this.accumulatedTime/(1e3/60))*(1e3/60))/(1e3/60),framesToCatchUp=Math.floor(_this.accumulatedTime/(1e3/60)),_mergeAndSync3=mergeAndSync(_this.props.willEnter,_this.props.willLeave,_this.props.didLeave,_this.state.mergedPropsStyles,destStyles,_this.state.currentStyles,_this.state.currentVelocities,_this.state.lastIdealStyles,_this.state.lastIdealVelocities),newMergedPropsStyles=_mergeAndSync3[0],newCurrentStyles=_mergeAndSync3[1],newCurrentVelocities=_mergeAndSync3[2],newLastIdealStyles=_mergeAndSync3[3],newLastIdealVelocities=_mergeAndSync3[4],i=0;i<newMergedPropsStyles.length;i++){var newMergedPropsStyle=newMergedPropsStyles[i].style,newCurrentStyle={},newCurrentVelocity={},newLastIdealStyle={},newLastIdealVelocity={};for(var key in newMergedPropsStyle)if(Object.prototype.hasOwnProperty.call(newMergedPropsStyle,key)){var styleValue=newMergedPropsStyle[key];if("number"==typeof styleValue)newCurrentStyle[key]=styleValue,newCurrentVelocity[key]=0,newLastIdealStyle[key]=styleValue,newLastIdealVelocity[key]=0;else{for(var newLastIdealStyleValue=newLastIdealStyles[i][key],newLastIdealVelocityValue=newLastIdealVelocities[i][key],j=0;j<framesToCatchUp;j++){var _stepper=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision);newLastIdealStyleValue=_stepper[0],newLastIdealVelocityValue=_stepper[1]}var _stepper2=_stepper4.default(1e3/60/1e3,newLastIdealStyleValue,newLastIdealVelocityValue,styleValue.val,styleValue.stiffness,styleValue.damping,styleValue.precision),nextIdealX=_stepper2[0],nextIdealV=_stepper2[1];newCurrentStyle[key]=newLastIdealStyleValue+(nextIdealX-newLastIdealStyleValue)*currentFrameCompletion,newCurrentVelocity[key]=newLastIdealVelocityValue+(nextIdealV-newLastIdealVelocityValue)*currentFrameCompletion,newLastIdealStyle[key]=newLastIdealStyleValue,newLastIdealVelocity[key]=newLastIdealVelocityValue}}newLastIdealStyles[i]=newLastIdealStyle,newLastIdealVelocities[i]=newLastIdealVelocity,newCurrentStyles[i]=newCurrentStyle,newCurrentVelocities[i]=newCurrentVelocity}_this.animationID=null,_this.accumulatedTime-=framesToCatchUp*(1e3/60),_this.setState({currentStyles:newCurrentStyles,currentVelocities:newCurrentVelocities,lastIdealStyles:newLastIdealStyles,lastIdealVelocities:newLastIdealVelocities,mergedPropsStyles:newMergedPropsStyles}),_this.unreadPropStyles=null,_this.startAnimationIfNecessary()}}))},componentDidMount:function(){this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary()},componentWillReceiveProps:function(props){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var styles=props.styles;this.unreadPropStyles="function"==typeof styles?styles(rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):styles,null==this.animationID&&(this.prevTime=_performanceNow2.default(),this.startAnimationIfNecessary())},componentWillUnmount:function(){this.unmounting=!0,null!=this.animationID&&(_raf2.default.cancel(this.animationID),this.animationID=null)},render:function(){var hydratedStyles=rehydrateStyles(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),renderedChildren=this.props.children(hydratedStyles);return renderedChildren&&_react2.default.Children.only(renderedChildren)}});exports.default=TransitionMotion,module.exports=exports.default},nZpL:function(module,exports,__webpack_require__){"use strict";function mergeDiff(prev,next,onRemove){for(var prevKeyIndex={},i=0;i<prev.length;i++)prevKeyIndex[prev[i].key]=i;for(var nextKeyIndex={},i=0;i<next.length;i++)nextKeyIndex[next[i].key]=i;for(var ret=[],i=0;i<next.length;i++)ret[i]=next[i];for(var i=0;i<prev.length;i++)if(!Object.prototype.hasOwnProperty.call(nextKeyIndex,prev[i].key)){var fill=onRemove(i,prev[i]);null!=fill&&ret.push(fill)}return ret.sort(function(a,b){var nextOrderA=nextKeyIndex[a.key],nextOrderB=nextKeyIndex[b.key],prevOrderA=prevKeyIndex[a.key],prevOrderB=prevKeyIndex[b.key];if(null!=nextOrderA&&null!=nextOrderB)return nextKeyIndex[a.key]-nextKeyIndex[b.key];if(null!=prevOrderA&&null!=prevOrderB)return prevKeyIndex[a.key]-prevKeyIndex[b.key];if(null!=nextOrderA){for(var i=0;i<next.length;i++){var pivot=next[i].key;if(Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){if(nextOrderA<nextKeyIndex[pivot]&&prevOrderB>prevKeyIndex[pivot])return-1;if(nextOrderA>nextKeyIndex[pivot]&&prevOrderB<prevKeyIndex[pivot])return 1}}return 1}for(var i=0;i<next.length;i++){var pivot=next[i].key;if(Object.prototype.hasOwnProperty.call(prevKeyIndex,pivot)){if(nextOrderB<nextKeyIndex[pivot]&&prevOrderA>prevKeyIndex[pivot])return 1;if(nextOrderB>nextKeyIndex[pivot]&&prevOrderA<prevKeyIndex[pivot])return-1}}return-1})}exports.__esModule=!0,exports.default=mergeDiff,module.exports=exports.default},uJpZ:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(React){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var __WEBPACK_IMPORTED_MODULE_0__widget__=__webpack_require__("fOgc"),__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_sectionHeader__=__webpack_require__("zISO"),_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Form=function(_React$Component){function Form(props){_classCallCheck(this,Form);var _this=_possibleConstructorReturn(this,(Form.__proto__||Object.getPrototypeOf(Form)).call(this,props));return _this.submit=_this.submit.bind(_this),_this}return _inherits(Form,_React$Component),_createClass(Form,[{key:"submit",value:function(e){var _this2=this;e.preventDefault(),e.stopPropagation();var members=this.widget.getMembers(),teams=this.widget.getMembers("share_groups"),collaboratorsCount=this.widget.getTokenCount();if(0!==collaboratorsCount){var viewOnly=this.widget.isViewOnly();MM.ui.disableButton(this.submitButton),new Ajax.Request("/sharing/invite/"+App.config.map_id,{parameters:{collaborators:members,groups:teams,send_invitations:!0,permission:viewOnly?1:2,message:""},onSuccess:function(transport){MM.ui.enableButton(_this2.submitButton),_this2.widget.clearTokens(),Message.show(collaboratorsCount+" "+I18n.t("js.invitations_sent",{count:collaboratorsCount}),Message.INFO),_this2.props.onSubmit()},onFailure:function(response){MM.ui.enableButton(_this2.submitButton),429==response.status?Message.show(I18n.t("js.error_on_invitations_rate_exceeded"),Message.ERROR):Message.show(I18n.t("js.error_on_invitations_try_again_later"),Message.ERROR)}})}}},{key:"render",value:function(){var _this3=this;return React.createElement("div",{className:"widget-container invitation-widget "+this.props.className},React.createElement(__WEBPACK_IMPORTED_MODULE_1_ui_components_generic_sectionHeader__.a,{title:this.props.title,className:"mt-10 mb-5"}),React.createElement("form",{className:"mb-20",onSubmit:this.submit},React.createElement("div",{className:"h-flex-start"},React.createElement(__WEBPACK_IMPORTED_MODULE_0__widget__.a,{ref:function(el){return _this3.widget=el},className:"w-200 mr-10",placeholder:I18n.t("js.email_or_name"),hideTokenizerHeader:this.props.hideTokenizerHeader}),React.createElement("input",{ref:function(el){return _this3.submitButton=el},type:"submit",className:"button default",value:I18n.t("js.invite")}))))}}]),Form}(React.Component);Form.defaultProps={className:"",onSubmit:function(){}},__webpack_exports__.a=Form}).call(__webpack_exports__,__webpack_require__("nakD"))},xISf:function(module,exports,__webpack_require__){"use strict";function identity(fn){return fn}function factory(ReactComponent,isValidElement,ReactNoopUpdateQueue){function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&_invariant("OVERRIDE_BASE"===specPolicy,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name),isAlreadyDefined&&_invariant("DEFINE_MANY"===specPolicy||"DEFINE_MANY_MERGED"===specPolicy,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name)}function mixSpecIntoComponent(Constructor,spec){if(spec){_invariant("function"!=typeof spec,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),_invariant(!isValidElement(spec),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var proto=Constructor.prototype,autoBindPairs=proto.__reactAutoBindPairs;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name],isAlreadyDefined=proto.hasOwnProperty(name);if(validateMethodOverride(isAlreadyDefined,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&!1!==spec.autobind;if(shouldAutoBind)autoBindPairs.push(name,property),proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];_invariant(isReactClassMethod&&("DEFINE_MANY_MERGED"===specPolicy||"DEFINE_MANY"===specPolicy),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name),"DEFINE_MANY_MERGED"===specPolicy?proto[name]=createMergedResultFunction(proto[name],property):"DEFINE_MANY"===specPolicy&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property}}}else;}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;_invariant(!isReserved,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name);var isInherited=name in Constructor;_invariant(!isInherited,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name),Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){_invariant(one&&two&&"object"==typeof one&&"object"==typeof two,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var key in two)two.hasOwnProperty(key)&&(_invariant(void 0===one[key],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key),one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);return boundMethod}function bindAutoBindMethods(component){for(var pairs=component.__reactAutoBindPairs,i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i],method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}function createClass(spec){var Constructor=identity(function(props,context,updater){this.__reactAutoBindPairs.length&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;_invariant("object"==typeof initialState&&!Array.isArray(initialState),"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"),this.state=initialState});Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,Constructor.prototype.__reactAutoBindPairs=[],injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,IsMountedPreMixin),mixSpecIntoComponent(Constructor,spec),mixSpecIntoComponent(Constructor,IsMountedPostMixin),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),_invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor}var injectedMixins=[],ReactClassInterface={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},IsMountedPreMixin={componentDidMount:function(){this.__isMounted=!0}},IsMountedPostMixin={componentWillUnmount:function(){this.__isMounted=!1}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState,callback)},isMounted:function(){return!!this.__isMounted}},ReactClassComponent=function(){};return _assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin),createClass}var _assign=__webpack_require__("Sz+c"),emptyObject=__webpack_require__("J+tX"),_invariant=__webpack_require__("EHYO"),MIXINS_KEY="mixins";module.exports=factory},xY9N:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return TEAM_PREFERENCES}),__webpack_require__.d(__webpack_exports__,"c",function(){return isEnabled}),__webpack_require__.d(__webpack_exports__,"b",function(){return get});var state={isFetched:!1,preferences:[]},fetch=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return null};new Ajax.Request("/team_preferences.json",{method:"GET",onSuccess:function(transport){state.isFetched=!0,state.preferences=transport.responseJSON,callback(state.preferences)}})},TEAM_PREFERENCES={ALLOW_LINK_SHARE:"allow_link_share",ALLOW_PUBLISH:"allow_publish",ALLOW_ACTIVITY:"allow_activity"},isEnabled=function(name){var preference=state.preferences.find(function(p){return p.name===name});return!preference||"0"!==preference.value},get=function(callback){state.isFetched?callback(state.preferences):fetch(callback)}},zE3B:function(module,exports,__webpack_require__){"use strict";function spring(val,config){return _extends({},defaultConfig,config,{val:val})}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.default=spring;var _presets=__webpack_require__("ZEcb"),_presets2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_presets),defaultConfig=_extends({},_presets2.default.noWobble,{precision:.01});module.exports=exports.default}});